
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>JMESPath Specification &#8212; JMESPath</title>
    <link rel="stylesheet" href="_static/jmespath.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="JMESPath Libraries" href="libraries.html" />
    <link rel="prev" title="JMESPath Examples" href="examples.html" />
  
   

  </head><body>
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#toggle-main-nav">
      </button>
      <a class="navbar-brand" href="contents.html"></a>
    </div>
    <div class="collapse navbar-collapse" id="toggle-main-nav">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="tutorial.html">Tutorial</a></li>
        <li><a href="examples.html">Examples</a></li>
        <li><a href="#">Specification</a></li>
        <li><a href="libraries.html">Libraries</a></li>
        <li><a href="https://github.com/jmespath-community">Github</a></li>
      </ul>
    </div>
  </div>
</nav>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="libraries.html" title="JMESPath Libraries"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="examples.html" title="JMESPath Examples"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">JMESPath</a> &#187;</li> 
      </ul>
    </div>
        <div class="container">
            <div class="main-content">
              <div class="row">
                  <div class="col-md-9 col-md-push-3">
                    
  <div class="section" id="jmespath-specification">
<span id="spec"></span><h1>JMESPath Specification<a class="headerlink" href="#jmespath-specification" title="Permalink to this headline">¶</a></h1>
<p>This document describes the specification for jmespath.</p>
<p>If you’d like an introduction to the JMESPath language,
see the <a class="reference internal" href="tutorial.html"><span class="doc">JMESPath Tutorial</span></a> and the <a class="reference internal" href="examples.html"><span class="doc">JMESPath Examples</span></a> page.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any changes to the JMESPath specification  must have a JEP (JMESPath Enhancement Proposal)
which is <a class="reference external" href="https://github.com/jmespath-unofficial/jmespath.spec/">tracked in a corresponding repository</a>.</p>
</div>
<p>In the specification, examples are shown through the use
of a <code class="docutils literal notranslate"><span class="pre">search</span></code> function.  The syntax for this function is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="o">&lt;</span><span class="n">jmespath</span> <span class="n">expr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">JSON</span> <span class="n">document</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="k">return</span> <span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For simplicity, the jmespath expression and the JSON document are
not quoted.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;bar&quot;</span>
</pre></div>
</div>
<p>The result of applying a JMESPath expression against a JSON document will
<strong>always</strong> result in valid JSON, provided there are no errors during the
evaluation process.  Structured data in, structured data out.</p>
<p>This also means that, with the exception of JMESPath expression types,
JMESPath only supports the same types supported by JSON:</p>
<ul class="simple">
<li>number (integers and double-precision floating-point format in JSON)</li>
<li>string</li>
<li>boolean (<code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>)</li>
<li>array (an ordered, sequence of values)</li>
<li>object (an unordered collection of key value pairs)</li>
<li>null</li>
</ul>
<p>Expression types are discussed in the <a class="reference internal" href="#functions"><span class="std std-ref">Function Expressions</span></a> section.</p>
<p>Implementations can map the corresponding JSON types to their language
equivalent.  For example, a JSON <code class="docutils literal notranslate"><span class="pre">null</span></code> could map to <code class="docutils literal notranslate"><span class="pre">None</span></code> in python,
and <code class="docutils literal notranslate"><span class="pre">nil</span></code> in ruby and go.</p>
<div class="section" id="grammar-specification-version">
<span id="grammar"></span><h2>Grammar <img alt="specification_version" src="https://img.shields.io/badge/version-2016--09--05--9e8d0e3-blue.svg" /><a class="headerlink" href="#grammar-specification-version" title="Permalink to this headline">¶</a></h2>
<p>The grammar is specified using ABNF, as described in <a class="reference external" href="https://tools.ietf.org/html/rfc4234">RFC4234</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>expression        = sub-expression / index-expression  / comparator-expression
expression        =/ or-expression / identifier
expression        =/ and-expression / not-expression / paren-expression
expression        =/ &quot;*&quot; / multi-select-list / multi-select-hash / literal
expression        =/ function-expression / pipe-expression / raw-string
expression        =/ current-node
sub-expression    = expression &quot;.&quot; ( identifier /
                                     multi-select-list /
                                     multi-select-hash /
                                     function-expression /
                                     &quot;*&quot; )
pipe-expression   = expression &quot;|&quot; expression
or-expression     = expression &quot;||&quot; expression
and-expression    = expression &quot;&amp;&amp;&quot; expression
not-expression    = &quot;!&quot; expression
paren-expression  = &quot;(&quot; expression &quot;)&quot;
index-expression  = expression bracket-specifier / bracket-specifier
multi-select-list = &quot;[&quot; ( expression *( &quot;,&quot; expression ) ) &quot;]&quot;
multi-select-hash = &quot;{&quot; ( keyval-expr *( &quot;,&quot; keyval-expr ) ) &quot;}&quot;
keyval-expr       = identifier &quot;:&quot; expression
bracket-specifier = &quot;[&quot; (number / &quot;*&quot; / slice-expression) &quot;]&quot; / &quot;[]&quot;
bracket-specifier =/ &quot;[?&quot; expression &quot;]&quot;
comparator-expression = expression comparator expression
slice-expression  = [number] &quot;:&quot; [number] [ &quot;:&quot; [number] ]
comparator        = &quot;&lt;&quot; / &quot;&lt;=&quot; / &quot;==&quot; / &quot;&gt;=&quot; / &quot;&gt;&quot; / &quot;!=&quot;
function-expression = unquoted-string  (
                        no-args  /
                        one-or-more-args )
no-args             = &quot;(&quot; &quot;)&quot;
one-or-more-args    = &quot;(&quot; ( function-arg *( &quot;,&quot; function-arg ) ) &quot;)&quot;
function-arg        = expression / expression-type
current-node        = &quot;@&quot;
expression-type     = &quot;&amp;&quot; expression

raw-string        = &quot;&#39;&quot; *raw-string-char &quot;&#39;&quot;
raw-string-char   = (%x20-26 / %x28-5B / %x5D-10FFFF) / preserved-escape /
                      raw-string-escape
preserved-escape  = escape (%x20-26 / %28-5B / %x5D-10FFFF)
raw-string-escape = escape (&quot;&#39;&quot; / escape)
literal           = &quot;`&quot; json-value &quot;`&quot;
unescaped-literal = %x20-21 /       ; space !
                        %x23-5B /   ; # - [
                        %x5D-5F /   ; ] ^ _
                        %x61-7A     ; a-z
                        %x7C-10FFFF ; |}~ ...
escaped-literal   = escaped-char / (escape %x60)
number            = [&quot;-&quot;]1*digit
digit             = %x30-39
identifier        = unquoted-string / quoted-string
unquoted-string   = (%x41-5A / %x61-7A / %x5F) *(  ; A-Za-z_
                        %x30-39  /  ; 0-9
                        %x41-5A /  ; A-Z
                        %x5F    /  ; _
                        %x61-7A)   ; a-z
quoted-string     = quote 1*(unescaped-char / escaped-char) quote
unescaped-char    = %x20-21 / %x23-5B / %x5D-10FFFF
escape            = %x5C   ; Back slash: \
quote             = %x22   ; Double quote: &#39;&quot;&#39;
escaped-char      = escape (
                        %x22 /          ; &quot;    quotation mark  U+0022
                        %x5C /          ; \    reverse solidus U+005C
                        %x2F /          ; /    solidus         U+002F
                        %x62 /          ; b    backspace       U+0008
                        %x66 /          ; f    form feed       U+000C
                        %x6E /          ; n    line feed       U+000A
                        %x72 /          ; r    carriage return U+000D
                        %x74 /          ; t    tab             U+0009
                        %x75 4HEXDIG )  ; uXXXX                U+XXXX

; The ``json-value`` is any valid JSON value with the one exception that the
; ``%x60`` character must be escaped.  While it&#39;s encouraged that implementations
; use any existing JSON parser for this grammar rule (after handling the escaped
; literal characters), the grammar rule is shown below for completeness::

json-value = false / null / true / json-object / json-array /
             json-number / json-quoted-string
false = %x66.61.6c.73.65   ; false
null  = %x6e.75.6c.6c      ; null
true  = %x74.72.75.65      ; true
json-quoted-string = %x22 1*(unescaped-literal / escaped-literal) %x22
begin-array     = ws %x5B ws  ; [ left square bracket
begin-object    = ws %x7B ws  ; { left curly bracket
end-array       = ws %x5D ws  ; ] right square bracket
end-object      = ws %x7D ws  ; } right curly bracket
name-separator  = ws %x3A ws  ; : colon
value-separator = ws %x2C ws  ; , comma
ws              = *(%x20 /              ; Space
                    %x09 /              ; Horizontal tab
                    %x0A /              ; Line feed or New line
                    %x0D                ; Carriage return
                   )
json-object = begin-object [ member *( value-separator member ) ] end-object
member = quoted-string name-separator json-value
json-array = begin-array [ json-value *( value-separator json-value ) ] end-array
json-number = [ minus ] int [ frac ] [ exp ]
decimal-point = %x2E       ; .
digit1-9 = %x31-39         ; 1-9
e = %x65 / %x45            ; e E
exp = e [ minus / plus ] 1*DIGIT
frac = decimal-point 1*DIGIT
int = zero / ( digit1-9 *DIGIT )
minus = %x2D               ; -
plus = %x2B                ; +
zero = %x30                ; 0
</pre></div>
</div>
<p>In addition to the grammar, there is the following token precedence that goes
from weakest to tightest binding:</p>
<ul class="simple">
<li>pipe: <code class="docutils literal notranslate"><span class="pre">|</span></code></li>
<li>or:  <code class="docutils literal notranslate"><span class="pre">||</span></code></li>
<li>and:  <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code></li>
<li>unary not:  <code class="docutils literal notranslate"><span class="pre">!</span></code></li>
<li>rbracket: <code class="docutils literal notranslate"><span class="pre">]</span></code></li>
</ul>
</div>
<div class="section" id="identifiers">
<span id="id1"></span><h2>Identifiers<a class="headerlink" href="#identifiers" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">identifier</span>        <span class="o">=</span> <span class="n">unquoted</span><span class="o">-</span><span class="n">string</span> <span class="o">/</span> <span class="n">quoted</span><span class="o">-</span><span class="n">string</span>
<span class="n">unquoted</span><span class="o">-</span><span class="n">string</span>   <span class="o">=</span> <span class="p">(</span><span class="o">%</span><span class="n">x41</span><span class="o">-</span><span class="mi">5</span><span class="n">A</span> <span class="o">/</span> <span class="o">%</span><span class="n">x61</span><span class="o">-</span><span class="mi">7</span><span class="n">A</span> <span class="o">/</span> <span class="o">%</span><span class="n">x5F</span><span class="p">)</span> <span class="o">*</span><span class="p">(</span>  <span class="p">;</span> <span class="n">A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z_</span>
                        <span class="o">%</span><span class="n">x30</span><span class="o">-</span><span class="mi">39</span>  <span class="o">/</span>  <span class="p">;</span> <span class="mi">0</span><span class="o">-</span><span class="mi">9</span>
                        <span class="o">%</span><span class="n">x41</span><span class="o">-</span><span class="mi">5</span><span class="n">A</span> <span class="o">/</span>  <span class="p">;</span> <span class="n">A</span><span class="o">-</span><span class="n">Z</span>
                        <span class="o">%</span><span class="n">x5F</span>    <span class="o">/</span>  <span class="p">;</span> <span class="n">_</span>
                        <span class="o">%</span><span class="n">x61</span><span class="o">-</span><span class="mi">7</span><span class="n">A</span><span class="p">)</span>   <span class="p">;</span> <span class="n">a</span><span class="o">-</span><span class="n">z</span>
<span class="n">quoted</span><span class="o">-</span><span class="n">string</span>     <span class="o">=</span> <span class="n">quote</span> <span class="mi">1</span><span class="o">*</span><span class="p">(</span><span class="n">unescaped</span><span class="o">-</span><span class="n">char</span> <span class="o">/</span> <span class="n">escaped</span><span class="o">-</span><span class="n">char</span><span class="p">)</span> <span class="n">quote</span>
<span class="n">unescaped</span><span class="o">-</span><span class="n">char</span>    <span class="o">=</span> <span class="o">%</span><span class="n">x20</span><span class="o">-</span><span class="mi">21</span> <span class="o">/</span> <span class="o">%</span><span class="n">x23</span><span class="o">-</span><span class="mi">5</span><span class="n">B</span> <span class="o">/</span> <span class="o">%</span><span class="n">x5D</span><span class="o">-</span><span class="mi">10</span><span class="n">FFFF</span>
<span class="n">escape</span>            <span class="o">=</span> <span class="o">%</span><span class="n">x5C</span>   <span class="p">;</span> <span class="n">Back</span> <span class="n">slash</span><span class="p">:</span> \
<span class="n">quote</span>             <span class="o">=</span> <span class="o">%</span><span class="n">x22</span>   <span class="p">;</span> <span class="n">Double</span> <span class="n">quote</span><span class="p">:</span> <span class="s1">&#39;&quot;&#39;</span>
<span class="n">escaped</span><span class="o">-</span><span class="n">char</span>      <span class="o">=</span> <span class="n">escape</span> <span class="p">(</span>
                        <span class="o">%</span><span class="n">x22</span> <span class="o">/</span>          <span class="p">;</span> <span class="s2">&quot;    quotation mark  U+0022</span>
                        <span class="o">%</span><span class="n">x5C</span> <span class="o">/</span>          <span class="p">;</span> \    <span class="n">reverse</span> <span class="n">solidus</span> <span class="n">U</span><span class="o">+</span><span class="mi">005</span><span class="n">C</span>
                        <span class="o">%</span><span class="n">x2F</span> <span class="o">/</span>          <span class="p">;</span> <span class="o">/</span>    <span class="n">solidus</span>         <span class="n">U</span><span class="o">+</span><span class="mi">002</span><span class="n">F</span>
                        <span class="o">%</span><span class="n">x62</span> <span class="o">/</span>          <span class="p">;</span> <span class="n">b</span>    <span class="n">backspace</span>       <span class="n">U</span><span class="o">+</span><span class="mi">0008</span>
                        <span class="o">%</span><span class="n">x66</span> <span class="o">/</span>          <span class="p">;</span> <span class="n">f</span>    <span class="n">form</span> <span class="n">feed</span>       <span class="n">U</span><span class="o">+</span><span class="mi">000</span><span class="n">C</span>
                        <span class="o">%</span><span class="n">x6E</span> <span class="o">/</span>          <span class="p">;</span> <span class="n">n</span>    <span class="n">line</span> <span class="n">feed</span>       <span class="n">U</span><span class="o">+</span><span class="mi">000</span><span class="n">A</span>
                        <span class="o">%</span><span class="n">x72</span> <span class="o">/</span>          <span class="p">;</span> <span class="n">r</span>    <span class="n">carriage</span> <span class="k">return</span> <span class="n">U</span><span class="o">+</span><span class="mi">000</span><span class="n">D</span>
                        <span class="o">%</span><span class="n">x74</span> <span class="o">/</span>          <span class="p">;</span> <span class="n">t</span>    <span class="n">tab</span>             <span class="n">U</span><span class="o">+</span><span class="mi">0009</span>
                        <span class="o">%</span><span class="n">x75</span> <span class="mi">4</span><span class="n">HEXDIG</span> <span class="p">)</span>  <span class="p">;</span> <span class="n">uXXXX</span>                <span class="n">U</span><span class="o">+</span><span class="n">XXXX</span>
</pre></div>
</div>
<p>An <code class="docutils literal notranslate"><span class="pre">identifier</span></code> is the most basic expression and can be used to extract a
single element from a JSON document.  The return value for an <code class="docutils literal notranslate"><span class="pre">identifier</span></code> is
the value associated with the identifier.  If the <code class="docutils literal notranslate"><span class="pre">identifier</span></code> does not exist
in the JSON document, than a <code class="docutils literal notranslate"><span class="pre">null</span></code> value is returned.</p>
<p>From the grammar rule listed above identifiers can be one or more characters,
and must start with <code class="docutils literal notranslate"><span class="pre">A-Za-z_</span></code>.</p>
<p>An identifier can also be quoted.  This is necessary when an identifier has
characters not specified in the <code class="docutils literal notranslate"><span class="pre">unquoted-string</span></code> grammar rule.
In this situation, an identifier is specified with a double quote, followed by
any number of <code class="docutils literal notranslate"><span class="pre">unescaped-char</span></code> or <code class="docutils literal notranslate"><span class="pre">escaped-char</span></code> characters, followed by a
double quote.  The <code class="docutils literal notranslate"><span class="pre">quoted-string</span></code> rule is the same grammar rule as a JSON
string, so any valid string can be used between double quoted, include JSON
supported escape sequences, and six character unicode escape sequences.</p>
<p>Note that any identifier that does not start with <code class="docutils literal notranslate"><span class="pre">A-Za-z_</span></code> <strong>must</strong>
be quoted.</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="n">null</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]})</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">search</span><span class="p">(</span><span class="s2">&quot;with space&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;with space&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="s2">&quot;special chars: !@#&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;special chars: !@#&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="s2">&quot;quote</span><span class="se">\&quot;</span><span class="s2">char&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;quote</span><span class="se">\&quot;</span><span class="s2">char&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\u2713</span><span class="s2">&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;</span><span class="se">\u2713</span><span class="s2">&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;value&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="subexpressions">
<span id="id2"></span><h2>SubExpressions<a class="headerlink" href="#subexpressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-</span><span class="n">expression</span>    <span class="o">=</span> <span class="n">expression</span> <span class="s2">&quot;.&quot;</span> <span class="p">(</span> <span class="n">identifier</span> <span class="o">/</span>
                                     <span class="n">multi</span><span class="o">-</span><span class="n">select</span><span class="o">-</span><span class="nb">list</span> <span class="o">/</span>
                                     <span class="n">multi</span><span class="o">-</span><span class="n">select</span><span class="o">-</span><span class="nb">hash</span> <span class="o">/</span>
                                     <span class="n">function</span><span class="o">-</span><span class="n">expression</span> <span class="o">/</span>
                                     <span class="s2">&quot;*&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>A subexpression is a combination of two expressions separated by the ‘.’ char.
A subexpression is evaluted as follows:</p>
<ul class="simple">
<li>Evaluate the expression on the left with the original JSON document.</li>
<li>Evaluate the expression on the right with the result of the left expression
evaluation.</li>
</ul>
<p>In pseudocode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">left</span><span class="o">-</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">search</span><span class="p">(</span><span class="n">left</span><span class="o">-</span><span class="n">expression</span><span class="p">,</span> <span class="n">original</span><span class="o">-</span><span class="n">json</span><span class="o">-</span><span class="n">document</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">search</span><span class="p">(</span><span class="n">right</span><span class="o">-</span><span class="n">expression</span><span class="p">,</span> <span class="n">left</span><span class="o">-</span><span class="n">evaluation</span><span class="p">)</span>
</pre></div>
</div>
<p>A subexpression is itself an expression, so there can be multiple levels of
subexpressions: <code class="docutils literal notranslate"><span class="pre">grandparent.parent.child</span></code>.</p>
<div class="section" id="id3">
<h3>Examples<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Given a JSON document: <code class="docutils literal notranslate"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">{&quot;bar&quot;:</span> <span class="pre">&quot;baz&quot;}}</span></code>, and a jmespath expression:
<code class="docutils literal notranslate"><span class="pre">foo.bar</span></code>, the evaluation process would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">left</span><span class="o">-</span><span class="n">evaluation</span> <span class="o">=</span> <span class="n">search</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">}})</span> <span class="o">-&gt;</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">}</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">search</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;baz&quot;</span>
</pre></div>
</div>
<p>The final result in this example is <code class="docutils literal notranslate"><span class="pre">&quot;baz&quot;</span></code>.</p>
<p>Additional examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">}})</span> <span class="o">-&gt;</span> <span class="s2">&quot;value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">}})</span> <span class="o">-&gt;</span> <span class="s2">&quot;value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">}})</span> <span class="o">-&gt;</span> <span class="n">null</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">baz</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">}}})</span> <span class="o">-&gt;</span> <span class="s2">&quot;value&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="index-expressions">
<span id="indexexpressions"></span><h2>Index Expressions<a class="headerlink" href="#index-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">index</span><span class="o">-</span><span class="n">expression</span>  <span class="o">=</span> <span class="n">expression</span> <span class="n">bracket</span><span class="o">-</span><span class="n">specifier</span> <span class="o">/</span> <span class="n">bracket</span><span class="o">-</span><span class="n">specifier</span>
<span class="n">bracket</span><span class="o">-</span><span class="n">specifier</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="p">(</span><span class="n">number</span> <span class="o">/</span> <span class="s2">&quot;*&quot;</span><span class="p">)</span> <span class="s2">&quot;]&quot;</span> <span class="o">/</span> <span class="s2">&quot;[]&quot;</span>
</pre></div>
</div>
<p>An index expression is used to access elements in a list.  Indexing is 0 based,
the index of 0 refers to the first element of the list.  A negative number is a
valid index.  A negative number indicates that indexing is relative to the end
of the list, specifically:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">negative</span><span class="o">-</span><span class="n">index</span> <span class="o">==</span> <span class="p">(</span><span class="n">length</span> <span class="n">of</span> <span class="n">array</span><span class="p">)</span> <span class="o">+</span> <span class="n">negative</span><span class="o">-</span><span class="n">index</span>
</pre></div>
</div>
<p>Given an array of length <code class="docutils literal notranslate"><span class="pre">N</span></code>, an index of <code class="docutils literal notranslate"><span class="pre">-1</span></code> would be equal to a positive
index of <code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">-</span> <span class="pre">1</span></code>, which is the last element of the list.  If an index
expression refers to an index that is greater than the length of the array, a
value of <code class="docutils literal notranslate"><span class="pre">null</span></code> is returned.</p>
<p>For the grammar rule <code class="docutils literal notranslate"><span class="pre">expression</span> <span class="pre">bracket-specifier</span></code> the <code class="docutils literal notranslate"><span class="pre">expression</span></code> is
first evaluated, and then return value from the <code class="docutils literal notranslate"><span class="pre">expression</span></code> is given as
input to the <code class="docutils literal notranslate"><span class="pre">bracket-specifier</span></code>.</p>
<p>Using a “*” character within a <code class="docutils literal notranslate"><span class="pre">bracket-specifier</span></code> is discussed below in the
<code class="docutils literal notranslate"><span class="pre">wildcard</span> <span class="pre">expressions</span></code> section.</p>
<div class="section" id="slices">
<span id="id4"></span><h3>Slices<a class="headerlink" href="#slices" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">slice</span><span class="o">-</span><span class="n">expression</span>  <span class="o">=</span> <span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="s2">&quot;:&quot;</span> <span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="p">[</span> <span class="s2">&quot;:&quot;</span> <span class="p">[</span><span class="n">number</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>A slice expression allows you to select a contiguous subset of an array.  A
slice has a <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, and <code class="docutils literal notranslate"><span class="pre">step</span></code> value.  The general form of a
slice is <code class="docutils literal notranslate"><span class="pre">[start:stop:step]</span></code>, but each component is optional and can
be omitted.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Slices in JMESPath have the same semantics as python slices.  If you’re
familiar with python slices, you’re familiar with JMESPath slices.</p>
</div>
<p>Given a <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, and <code class="docutils literal notranslate"><span class="pre">step</span></code> value, the sub elements in an array
are extracted as follows:</p>
<ul class="simple">
<li>The first element in the extracted array is the index denoted by <code class="docutils literal notranslate"><span class="pre">start</span></code>.</li>
<li>The last element in the extracted array is the index denoted by <code class="docutils literal notranslate"><span class="pre">end</span> <span class="pre">-</span> <span class="pre">1</span></code>.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">step</span></code> value determines how many indices to skip after each element
is selected from the array.  An array of 1 (the default step) will not skip
any indices.  A step value of 2 will skip every other index while extracting
elements from an array.  A step value of -1 will extract values in reverse
order from the array.</li>
</ul>
<p>Slice expressions adhere to the following rules:</p>
<ul class="simple">
<li>If a negative start position is given, it is calculated as the total length
of the array plus the given start position.</li>
<li>If no start position is given, it is assumed to be 0 if the given step is
greater than 0 or the end of the array if the given step is less than 0.</li>
<li>If a negative stop position is given, it is calculated as the total length
of the array plus the given stop position.</li>
<li>If no stop position is given, it is assumed to be the length of the array if
the given step is greater than 0 or 0 if the given step is less than 0.</li>
<li>If the given step is omitted, it it assumed to be 1.</li>
<li>If the given step is 0, an error MUST be raised.</li>
<li>If the element being sliced is not an array, the result is <code class="docutils literal notranslate"><span class="pre">null</span></code>.</li>
<li>If the element being sliced is an array and yields no results, the result
MUST be an empty array.</li>
</ul>
</div>
<div class="section" id="id5">
<h3>Examples<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">([</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">search</span><span class="p">([</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">search</span><span class="p">([</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">search</span><span class="p">([:</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">search</span><span class="p">([::</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">search</span><span class="p">([::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">search</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">:],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="flatten-operator">
<span id="flatten"></span><h3>Flatten Operator<a class="headerlink" href="#flatten-operator" title="Permalink to this headline">¶</a></h3>
<p>When the character sequence <code class="docutils literal notranslate"><span class="pre">[]</span></code> is provided as a bracket specifier, then
a flattening operation occurs on the current result.  The flattening operator
will merge sublists in the current result into a single list.  The flattening
operator has the following semantics:</p>
<ul class="simple">
<li>Create an empty result list.</li>
<li>Iterate over the elements of the current result.</li>
<li>If the current element is not a list, add to the end of the result list.</li>
<li>If the current element is a list, add each element of the current element
to the end of the result list.</li>
<li>The result list is now the new current result.</li>
</ul>
<p>Once the flattening operation has been performed, subsequent operations
are projected onto the flattened list with the same semantics as a
wildcard expression.  Thus the difference between <code class="docutils literal notranslate"><span class="pre">[*]</span></code> and <code class="docutils literal notranslate"><span class="pre">[]</span></code> is that
<code class="docutils literal notranslate"><span class="pre">[]</span></code> will first flatten sublists in the current result.</p>
</div>
<div class="section" id="id6">
<h3>Examples<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">,</span> <span class="s2">&quot;third&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;first&quot;</span>
<span class="n">search</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">,</span> <span class="s2">&quot;third&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;third&quot;</span>
<span class="n">search</span><span class="p">([</span><span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">,</span> <span class="s2">&quot;third&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">null</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">,</span> <span class="s2">&quot;third&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;first&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="mi">100</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">,</span> <span class="s2">&quot;third&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">null</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]})</span> <span class="o">-&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="or-expressions">
<span id="orexpressions"></span><h2>Or Expressions<a class="headerlink" href="#or-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ow">or</span><span class="o">-</span><span class="n">expression</span>     <span class="o">=</span> <span class="n">expression</span> <span class="s2">&quot;||&quot;</span> <span class="n">expression</span>
</pre></div>
</div>
<p>An or expression will evaluate to either the left expression or the right
expression.  If the evaluation of the left expression is not false it is used
as the return value.  If the evaluation of the right expression is not false it
is used as the return value.  If neither the left or right expression are
non-null, then a value of null is returned.  A false value corresponds to any
of the following conditions:</p>
<ul class="simple">
<li>Empty list: <code class="docutils literal notranslate"><span class="pre">[]</span></code></li>
<li>Empty object: <code class="docutils literal notranslate"><span class="pre">{}</span></code></li>
<li>Empty string: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code></li>
<li>False boolean: <code class="docutils literal notranslate"><span class="pre">false</span></code></li>
<li>Null value: <code class="docutils literal notranslate"><span class="pre">null</span></code></li>
</ul>
<p>A true value corresponds to any value that is not false.</p>
<div class="section" id="id7">
<h3>Examples<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">foo</span> <span class="o">||</span> <span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;foo-value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;foo-value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span> <span class="o">||</span> <span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;bar-value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;bar-value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span> <span class="o">||</span> <span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;foo-value&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;bar-value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;foo-value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span> <span class="o">||</span> <span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;baz-value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="n">null</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span> <span class="o">||</span> <span class="n">bar</span> <span class="o">||</span> <span class="n">baz</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;baz-value&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;baz-value&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">override</span> <span class="o">||</span> <span class="n">mylist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;mylist&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">]})</span> <span class="o">-&gt;</span> <span class="s2">&quot;two&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">override</span> <span class="o">||</span> <span class="n">mylist</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;mylist&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">],</span> <span class="s2">&quot;override&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;yes&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="and-expressions">
<span id="andexpressions"></span><h2>And Expressions<a class="headerlink" href="#and-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ow">and</span><span class="o">-</span><span class="n">expression</span>  <span class="o">=</span> <span class="n">expression</span> <span class="s2">&quot;&amp;&amp;&quot;</span> <span class="n">expression</span>
</pre></div>
</div>
<p>An and expression will evaluate to either the left expression or the right
expression.  If the expression on the left hand side is a truth-like value,
then the value on the right hand side is returned.  Otherwise the result of the
expression on the left hand side is returned.  This also reduces to the
expected truth table:</p>
<table border="1" class="table docutils" id="id19">
<caption><span class="caption-text">Truth table for and expressions</span><a class="headerlink" href="#id19" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">LHS</th>
<th class="head">RHS</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr class="row-odd"><td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="row-even"><td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr class="row-odd"><td>False</td>
<td>False</td>
<td>False</td>
</tr>
</tbody>
</table>
<p>This is the standard truth table for a
<a class="reference external" href="https://en.wikipedia.org/wiki/Truth_table#Logical_conjunction_.28AND.29">logical conjunction (AND)</a>.</p>
<div class="section" id="id8">
<h3>Examples<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>search(True &amp;&amp; False, {&quot;True&quot;: true, &quot;False&quot;: false}) -&gt; false
search(Number &amp;&amp; EmptyList, {&quot;Number&quot;: 5, EmptyList: []}) -&gt; []
search(foo[?a == `1` &amp;&amp; b == `2`],
       {&quot;foo&quot;: [{&quot;a&quot;: 1, &quot;b&quot;: 2}, {&quot;a&quot;: 1, &quot;b&quot;: 3}]}) -&gt; [{&quot;a&quot;: 1, &quot;b&quot;: 2}]
</pre></div>
</div>
</div>
</div>
<div class="section" id="paren-expressions">
<span id="parenexpressions"></span><h2>Paren Expressions<a class="headerlink" href="#paren-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">paren</span><span class="o">-</span><span class="n">expression</span>  <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="n">expression</span> <span class="s2">&quot;)&quot;</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">paren-expression</span></code> allows a user to override the precedence order of
an expression, e.g. <code class="docutils literal notranslate"><span class="pre">(a</span> <span class="pre">||</span> <span class="pre">b)</span> <span class="pre">&amp;&amp;</span> <span class="pre">c</span></code>.</p>
<div class="section" id="id9">
<h3>Examples<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>search(foo[?(a == `1` || b ==`2`) &amp;&amp; c == `5`],
       {&quot;foo&quot;: [{&quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: 3}, {&quot;a&quot;: 3, &quot;b&quot;: 4}]}) -&gt; []
</pre></div>
</div>
</div>
</div>
<div class="section" id="not-expressions">
<span id="notexpressions"></span><h2>Not Expressions<a class="headerlink" href="#not-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ow">not</span><span class="o">-</span><span class="n">expression</span>    <span class="o">=</span> <span class="s2">&quot;!&quot;</span> <span class="n">expression</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">not-expression</span></code> negates the result of an expression.  If the expression
results in a truth-like value, a <code class="docutils literal notranslate"><span class="pre">not-expression</span></code> will change this value to
<code class="docutils literal notranslate"><span class="pre">false</span></code>.  If the expression results in a false-like value, a
<code class="docutils literal notranslate"><span class="pre">not-expression</span></code> will change this value to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<div class="section" id="id10">
<h3>Examples<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>search(!True, {&quot;True&quot;: true}) -&gt; false
search(!False, {&quot;False&quot;: false}) -&gt; true
search(!Number, {&quot;Number&quot;: 5}) -&gt; false
search(!EmptyList, {&quot;EmptyList&quot;: []}) -&gt; true
</pre></div>
</div>
</div>
</div>
<div class="section" id="multiselect-list">
<span id="multiselectlist"></span><h2>MultiSelect List<a class="headerlink" href="#multiselect-list" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">multi</span><span class="o">-</span><span class="n">select</span><span class="o">-</span><span class="nb">list</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="p">(</span> <span class="n">expression</span> <span class="o">*</span><span class="p">(</span> <span class="s2">&quot;,&quot;</span> <span class="n">expression</span> <span class="p">)</span> <span class="s2">&quot;]&quot;</span>
</pre></div>
</div>
<p>A multiselect expression is used to extract a subset of elements from a JSON
hash.  There are two version of multiselect, one in which the multiselect
expression is enclosed in <code class="docutils literal notranslate"><span class="pre">{...}</span></code> and one which is enclosed in <code class="docutils literal notranslate"><span class="pre">[...]</span></code>.
This section describes the <code class="docutils literal notranslate"><span class="pre">[...]</span></code> version.  Within the start and closing
characters is one or more non expressions separated by a comma.  Each
expression will be evaluated against the JSON document.  Each returned element
will be the result of evaluating the expression. A <code class="docutils literal notranslate"><span class="pre">multi-select-list</span></code> with
<code class="docutils literal notranslate"><span class="pre">N</span></code> expressions will result in a list of length <code class="docutils literal notranslate"><span class="pre">N</span></code>.  Given a multiselect
expression <code class="docutils literal notranslate"><span class="pre">[expr-1,expr-2,...,expr-n]</span></code>, the evaluated expression will return
<code class="docutils literal notranslate"><span class="pre">[evaluate(expr-1),</span> <span class="pre">evaluate(expr-2),</span> <span class="pre">...,</span> <span class="pre">evaluate(expr-n)]</span></code>.</p>
<div class="section" id="id11">
<h3>Examples<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">([</span><span class="n">foo</span><span class="p">,</span><span class="n">bar</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;c&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">]</span>
<span class="n">search</span><span class="p">([</span><span class="n">foo</span><span class="p">,</span><span class="n">bar</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;c&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">]</span>
<span class="n">search</span><span class="p">([</span><span class="n">foo</span><span class="p">,</span><span class="n">bar</span><span class="o">.</span><span class="n">baz</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">}})</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">]</span>
<span class="n">search</span><span class="p">([</span><span class="n">foo</span><span class="p">,</span><span class="n">baz</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">null</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="multiselect-hash">
<span id="multiselecthash"></span><h2>MultiSelect Hash<a class="headerlink" href="#multiselect-hash" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">multi</span><span class="o">-</span><span class="n">select</span><span class="o">-</span><span class="nb">hash</span> <span class="o">=</span> <span class="s2">&quot;{&quot;</span> <span class="p">(</span> <span class="n">keyval</span><span class="o">-</span><span class="n">expr</span> <span class="o">*</span><span class="p">(</span> <span class="s2">&quot;,&quot;</span> <span class="n">keyval</span><span class="o">-</span><span class="n">expr</span> <span class="p">)</span> <span class="s2">&quot;}&quot;</span>
<span class="n">keyval</span><span class="o">-</span><span class="n">expr</span>       <span class="o">=</span> <span class="n">identifier</span> <span class="s2">&quot;:&quot;</span> <span class="n">expression</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">multi-select-hash</span></code> expression is similar to a <code class="docutils literal notranslate"><span class="pre">multi-select-list</span></code>
expression, except that a hash is created instead of a list.  A
<code class="docutils literal notranslate"><span class="pre">multi-select-hash</span></code> expression also requires key names to be provided, as
specified in the <code class="docutils literal notranslate"><span class="pre">keyval-expr</span></code> rule.  Given the following rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">keyval</span><span class="o">-</span><span class="n">expr</span>       <span class="o">=</span> <span class="n">identifier</span> <span class="s2">&quot;:&quot;</span> <span class="n">expression</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">identifier</span></code> is used as the key name and the result of evaluating the
<code class="docutils literal notranslate"><span class="pre">expression</span></code> is the value associated with the <code class="docutils literal notranslate"><span class="pre">identifier</span></code> key.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">keyval-expr</span></code> within the <code class="docutils literal notranslate"><span class="pre">multi-select-hash</span></code> will correspond to a
single key value pair in the created hash.</p>
<div class="section" id="id12">
<h3>Examples<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>Given a <code class="docutils literal notranslate"><span class="pre">multi-select-hash</span></code> expression <code class="docutils literal notranslate"><span class="pre">{foo:</span> <span class="pre">one.two,</span> <span class="pre">bar:</span> <span class="pre">bar}</span></code> and the
data <code class="docutils literal notranslate"><span class="pre">{&quot;bar&quot;:</span> <span class="pre">&quot;bar&quot;,</span> <span class="pre">{&quot;one&quot;:</span> <span class="pre">{&quot;two&quot;:</span> <span class="pre">&quot;one-two&quot;}}}</span></code>, the expression is
evaluated as follows:</p>
<ol class="arabic simple">
<li>A hash is created: <code class="docutils literal notranslate"><span class="pre">{}</span></code></li>
<li>A key <code class="docutils literal notranslate"><span class="pre">foo</span></code> is created whose value is the result of evaluating <code class="docutils literal notranslate"><span class="pre">one.two</span></code>
against the provided JSON document: <code class="docutils literal notranslate"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">evaluate(one.two,</span> <span class="pre">&lt;data&gt;)}</span></code></li>
<li>A key <code class="docutils literal notranslate"><span class="pre">bar</span></code> is created whose value is the result of evaluting the
expression <code class="docutils literal notranslate"><span class="pre">bar</span></code> against the provided JSON document.</li>
</ol>
<p>The final result will be: <code class="docutils literal notranslate"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;one-two&quot;,</span> <span class="pre">&quot;bar&quot;:</span> <span class="pre">&quot;bar&quot;}</span></code>.</p>
<p>Additional examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">({</span><span class="n">foo</span><span class="p">:</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">:</span> <span class="n">bar</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;c&quot;</span><span class="p">})</span>
              <span class="o">-&gt;</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">}</span>
<span class="n">search</span><span class="p">({</span><span class="n">foo</span><span class="p">:</span> <span class="n">foo</span><span class="p">,</span> <span class="n">firstbar</span><span class="p">:</span> <span class="n">bar</span><span class="p">[</span><span class="mi">0</span><span class="p">]},</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]})</span>
              <span class="o">-&gt;</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;firstbar&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">}</span>
<span class="n">search</span><span class="p">({</span><span class="n">foo</span><span class="p">:</span> <span class="n">foo</span><span class="p">,</span> <span class="s2">&quot;bar.baz&quot;</span><span class="p">:</span> <span class="n">bar</span><span class="o">.</span><span class="n">baz</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">}})</span>
              <span class="o">-&gt;</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar.baz&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">}</span>
<span class="n">search</span><span class="p">({</span><span class="n">foo</span><span class="p">:</span> <span class="n">foo</span><span class="p">,</span> <span class="n">baz</span><span class="p">:</span> <span class="n">baz</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">})</span>
              <span class="o">-&gt;</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="wildcard-expressions">
<span id="wildcards"></span><h2>Wildcard Expressions<a class="headerlink" href="#wildcard-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">expression</span>        <span class="o">=/</span> <span class="s2">&quot;*&quot;</span>
<span class="n">bracket</span><span class="o">-</span><span class="n">specifier</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="s2">&quot;*&quot;</span> <span class="s2">&quot;]&quot;</span>
</pre></div>
</div>
<p>A wildcard expression is a expression of either <code class="docutils literal notranslate"><span class="pre">*</span></code> or <code class="docutils literal notranslate"><span class="pre">[*]</span></code>.  A wildcard
expression can return multiple elements, and the remaining expressions are
evaluated against each returned element from a wildcard expression.  The
<code class="docutils literal notranslate"><span class="pre">[*]</span></code> syntax applies to a list type and the <code class="docutils literal notranslate"><span class="pre">*</span></code> syntax applies to a hash
type.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">[*]</span></code> syntax (referred to as a list wildcard expression) will return all
the elements in a list.  Any subsequent expressions will be evaluated against
each individual element.  Given an expression <code class="docutils literal notranslate"><span class="pre">[*].child-expr</span></code>, and a list of
N elements, the evaluation of this expression would be <code class="docutils literal notranslate"><span class="pre">[child-expr(el-0),</span>
<span class="pre">child-expr(el-2),</span> <span class="pre">...,</span> <span class="pre">child-expr(el-N)]</span></code>.  This is referred to as a
<strong>projection</strong>, and the <code class="docutils literal notranslate"><span class="pre">child-expr</span></code> expression is projected onto the
elements of the resulting list.</p>
<p>Once a projection has been created, all subsequent expressions are projected
onto the resulting list.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">*</span></code> syntax (referred to as a hash wildcard expression) will return a list
of the hash element’s values.  Any subsequent expression will be evaluated
against each individual element in the list (this is also referred to as a
<strong>projection</strong>).</p>
<p>Note that if any subsequent expression after a wildcard expression returns a
<code class="docutils literal notranslate"><span class="pre">null</span></code> value, it is omitted from the final result list.</p>
<p>A list wildcard expression is only valid for the JSON array type.  If a list
wildcard expression is applied to any other JSON type, a value of <code class="docutils literal notranslate"><span class="pre">null</span></code> is
returned.</p>
<p>Similarly, a hash wildcard expression is only valid for the JSON object type.
If a hash wildcard expression is applied to any other JSON type, a value of
<code class="docutils literal notranslate"><span class="pre">null</span></code> is returned.  Note that JSON hashes are explicitly defined as
unordered.  Therefore a hash wildcard expression can return the values
associated with the hash in any order.  Implementations are not required
to return the hash values in any specific order.</p>
<div class="section" id="id13">
<h3>Examples<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">([</span><span class="o">*</span><span class="p">]</span><span class="o">.</span><span class="n">foo</span><span class="p">,</span> <span class="p">[{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">search</span><span class="p">([</span><span class="o">*</span><span class="p">]</span><span class="o">.</span><span class="n">foo</span><span class="p">,</span> <span class="p">[{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">search</span><span class="p">(</span><span class="s1">&#39;*.foo&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}})</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="literal-expressions">
<h2>Literal Expressions<a class="headerlink" href="#literal-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">literal</span>           <span class="o">=</span> <span class="s2">&quot;`&quot;</span> <span class="n">json</span><span class="o">-</span><span class="n">value</span> <span class="s2">&quot;`&quot;</span>
</pre></div>
</div>
<p>A literal expression is an expression that allows arbitrary JSON objects to be
specified.  This is useful in filter expressions as well as multi select hashes
(to create arbitrary key value pairs), but is allowed anywhere an expression is
allowed.  The specification includes the ABNF for JSON, implementations should
use an existing JSON parser to parse literal values.  Note that the
<code class="docutils literal notranslate"><span class="pre">`</span></code> character must now be escaped in a <code class="docutils literal notranslate"><span class="pre">json-value</span></code> which means
implementations need to handle this case before passing the resulting string to
a JSON parser.</p>
<div class="section" id="id14">
<h3>Examples<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>search(`&quot;foo&quot;`, &quot;anything&quot;) -&gt; &quot;foo&quot;
search(`&quot;foo\`bar&quot;`, &quot;anything&quot;) -&gt; &quot;foo`bar&quot;
search(`[1, 2]`, &quot;anything&quot;) -&gt; [1, 2]
search(`true`, &quot;anything&quot;) -&gt; true
search(`{&quot;a&quot;: &quot;b&quot;}`.a, &quot;anything&quot;) -&gt; &quot;b&quot;
search({first: a, type: `&quot;mytype&quot;`}, {&quot;a&quot;: &quot;b&quot;, &quot;c&quot;: &quot;d&quot;}) -&gt; {&quot;first&quot;: &quot;b&quot;, &quot;type&quot;: &quot;mytype&quot;}
</pre></div>
</div>
</div>
</div>
<div class="section" id="raw-string-literals">
<h2>Raw String Literals<a class="headerlink" href="#raw-string-literals" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">raw</span><span class="o">-</span><span class="n">string</span>        <span class="o">=</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">*</span><span class="n">raw</span><span class="o">-</span><span class="n">string</span><span class="o">-</span><span class="n">char</span> <span class="s2">&quot;&#39;&quot;</span>
<span class="n">raw</span><span class="o">-</span><span class="n">string</span><span class="o">-</span><span class="n">char</span>   <span class="o">=</span> <span class="p">(</span><span class="o">%</span><span class="n">x20</span><span class="o">-</span><span class="mi">26</span> <span class="o">/</span> <span class="o">%</span><span class="n">x28</span><span class="o">-</span><span class="mi">5</span><span class="n">B</span> <span class="o">/</span> <span class="o">%</span><span class="n">x5D</span><span class="o">-</span><span class="mi">10</span><span class="n">FFFF</span><span class="p">)</span> <span class="o">/</span> <span class="n">preserved</span><span class="o">-</span><span class="n">escape</span> <span class="o">/</span>
                      <span class="n">raw</span><span class="o">-</span><span class="n">string</span><span class="o">-</span><span class="n">escape</span>
<span class="n">preserved</span><span class="o">-</span><span class="n">escape</span>  <span class="o">=</span> <span class="n">escape</span> <span class="p">(</span><span class="o">%</span><span class="n">x20</span><span class="o">-</span><span class="mi">26</span> <span class="o">/</span> <span class="o">%</span><span class="mi">28</span><span class="o">-</span><span class="mi">5</span><span class="n">B</span> <span class="o">/</span> <span class="o">%</span><span class="n">x5D</span><span class="o">-</span><span class="mi">10</span><span class="n">FFFF</span><span class="p">)</span>
<span class="n">raw</span><span class="o">-</span><span class="n">string</span><span class="o">-</span><span class="n">escape</span> <span class="o">=</span> <span class="n">escape</span> <span class="p">(</span><span class="s2">&quot;&#39;&quot;</span> <span class="o">/</span> <span class="n">escape</span><span class="p">)</span>
</pre></div>
</div>
<p>A raw string is an expression that allows for a literal string value to be
specified.  The result of evaluating the raw string literal expression is the
literal string value.  It is a simpler form of a literal expression that is
special cased for strings.  For example, the following expressions both
evaluate to the same value: “foo”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>search(`&quot;foo&quot;`, &quot;&quot;) -&gt; &quot;foo&quot;
search(&#39;foo&#39;, &quot;&quot;) -&gt; &quot;foo&quot;
</pre></div>
</div>
<p>As you can see in the examples above, it is meant as a more succinct
form of the common scenario of specifying a literal string value.</p>
<p>In addition, it does not perform any of the
additional processing that JSON strings supports including:</p>
<ul class="simple">
<li>Not expanding unicode escape sequences</li>
<li>Not expanding newline characters</li>
<li>Not expanding tab characters or any other escape sequences documented
in RFC 4627 section 2.5.</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;foo&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="s1">&#39; bar &#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot; bar &quot;</span>
<span class="n">search</span><span class="p">(</span><span class="s1">&#39;[baz]&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;[baz]&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="s1">&#39;[baz]&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;[baz]&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\u03a6</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;</span><span class="se">\u03a6</span><span class="s2">&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="filter-expressions">
<span id="filterexpressions"></span><h2>Filter Expressions<a class="headerlink" href="#filter-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="o">-</span><span class="nb">filter</span><span class="o">-</span><span class="n">expr</span>      <span class="o">=</span> <span class="s2">&quot;[?&quot;</span> <span class="n">expression</span> <span class="s2">&quot;]&quot;</span>
<span class="n">comparator</span><span class="o">-</span><span class="n">expression</span> <span class="o">=</span> <span class="n">expression</span> <span class="n">comparator</span> <span class="n">expression</span>
<span class="n">comparator</span>            <span class="o">=</span> <span class="s2">&quot;&lt;&quot;</span> <span class="o">/</span> <span class="s2">&quot;&lt;=&quot;</span> <span class="o">/</span> <span class="s2">&quot;==&quot;</span> <span class="o">/</span> <span class="s2">&quot;&gt;=&quot;</span> <span class="o">/</span> <span class="s2">&quot;&gt;&quot;</span> <span class="o">/</span> <span class="s2">&quot;!=&quot;</span>
</pre></div>
</div>
<p>A filter expression provides a way to select JSON elements based on a
comparison to another expression.  A filter expression is evaluated as follows:
for each element in an array evaluate the <code class="docutils literal notranslate"><span class="pre">expression</span></code> against the
element.  If the expression evalutes to a truth-like value, the item (in its
entirety) is added to the result list.  Otherwise it is excluded from the
result list.  A filter expression is only defined for a JSON array.  Attempting
to evaluate a filter expression against any other type will return <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<div class="section" id="comparison-operators">
<h3>Comparison Operators<a class="headerlink" href="#comparison-operators" title="Permalink to this headline">¶</a></h3>
<p>The following operations are supported:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">==</span></code>, tests for equality.</li>
<li><code class="docutils literal notranslate"><span class="pre">!=</span></code>, tests for inequality.</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, less than.</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, less than or equal to.</li>
<li><code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, greater than.</li>
<li><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, greater than or equal to.</li>
</ul>
<p>The behavior of each operation is dependent on the type of each evaluated
expression.</p>
<p>The comparison semantics for each operator are defined below based on
the corresponding JSON type:</p>
<div class="section" id="equality-operators">
<h4>Equality Operators<a class="headerlink" href="#equality-operators" title="Permalink to this headline">¶</a></h4>
<p>For <code class="docutils literal notranslate"><span class="pre">string/number/true/false/null</span></code> types, equality is an exact match. A
<code class="docutils literal notranslate"><span class="pre">string</span></code> is equal to another <code class="docutils literal notranslate"><span class="pre">string</span></code> if they they have the exact sequence
of code points.  The literal values <code class="docutils literal notranslate"><span class="pre">true/false/null</span></code> are only equal to their
own literal values.  Two JSON objects are equal if they have the same set of
keys and values (given two JSON objeccts <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, for each key value
pair <code class="docutils literal notranslate"><span class="pre">(i,</span> <span class="pre">j)</span></code> in <code class="docutils literal notranslate"><span class="pre">x</span></code>, there exists an equivalent pair <code class="docutils literal notranslate"><span class="pre">(i,</span> <span class="pre">j)</span></code> in <code class="docutils literal notranslate"><span class="pre">y</span></code>).
Two JSON arrays are equal if they have equal elements in the same order (given
two arrays <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, for each <code class="docutils literal notranslate"><span class="pre">i</span></code> from <code class="docutils literal notranslate"><span class="pre">0</span></code> until <code class="docutils literal notranslate"><span class="pre">length(x)</span></code>,
<code class="docutils literal notranslate"><span class="pre">x[i]</span> <span class="pre">==</span> <span class="pre">y[i]</span></code>).</p>
</div>
<div class="section" id="ordering-operators">
<h4>Ordering Operators<a class="headerlink" href="#ordering-operators" title="Permalink to this headline">¶</a></h4>
<p>Ordering operators <code class="docutils literal notranslate"><span class="pre">&gt;,</span> <span class="pre">&gt;=,</span> <span class="pre">&lt;,</span> <span class="pre">&lt;=</span></code> are <strong>only</strong> valid for numbers.
Evaluating any other type with a comparison operator will yield a <code class="docutils literal notranslate"><span class="pre">null</span></code>
value, which will result in the element being excluded from the result list.
For example, given:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;foo[?a&lt;b]&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="s2">&quot;char&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="s2">&quot;char&quot;</span><span class="p">},</span>
                             <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
                             <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}]})</span>
</pre></div>
</div>
<p>The three elements in the foo list are evaluated against <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span></code>.  The first
element resolves to the comparison <code class="docutils literal notranslate"><span class="pre">&quot;char&quot;</span> <span class="pre">&lt;</span> <span class="pre">&quot;bar&quot;</span></code>, and because these types
are string, the expression results in <code class="docutils literal notranslate"><span class="pre">null</span></code>, so the first element is not
included in the result list.  The second element resolves to <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">&lt;</span> <span class="pre">1</span></code>,
which is <code class="docutils literal notranslate"><span class="pre">false</span></code>, so the second element is excluded from the result list.
The third expression resolves to <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">&lt;</span> <span class="pre">2</span></code> which evalutes to <code class="docutils literal notranslate"><span class="pre">true</span></code>, so the
third element is included in the list.  The final result of that expression
is <code class="docutils literal notranslate"><span class="pre">[{&quot;a&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">2}]</span></code>.</p>
</div>
</div>
<div class="section" id="id15">
<h3>Examples<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>search(foo[?bar==`10`], {&quot;foo&quot;: [{&quot;bar&quot;: 1}, {&quot;bar&quot;: 10}]}) -&gt; [{&quot;bar&quot;: 10}]
search([?bar==`10`], [{&quot;bar&quot;: 1}, {&quot;bar&quot;: 10}]}) -&gt; [{&quot;bar&quot;: 10}]
search(foo[?a==b], {&quot;foo&quot;: [{&quot;a&quot;: 1, &quot;b&quot;: 2}, {&quot;a&quot;: 2, &quot;b&quot;: 2}]}) -&gt; [{&quot;a&quot;: 2, &quot;b&quot;: 2}]
</pre></div>
</div>
</div>
</div>
<div class="section" id="pipe-expressions">
<h2>Pipe Expressions<a class="headerlink" href="#pipe-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipe</span><span class="o">-</span><span class="n">expression</span>  <span class="o">=</span> <span class="n">expression</span> <span class="s2">&quot;|&quot;</span> <span class="n">expression</span>
</pre></div>
</div>
<p>A pipe expression combines two expressions, separated by the <code class="docutils literal notranslate"><span class="pre">|</span></code> character.
It is similar to a <code class="docutils literal notranslate"><span class="pre">sub-expression</span></code> with two important distinctions:</p>
<ol class="arabic simple">
<li>Any expression can be used on the right hand side.  A <code class="docutils literal notranslate"><span class="pre">sub-expression</span></code>
restricts the type of expression that can be used on the right hand side.</li>
<li>A <code class="docutils literal notranslate"><span class="pre">pipe-expression</span></code> <strong>stops projections on the left hand side from
propagating to the right hand side</strong>.  If the left expression creates a
projection, it does <strong>not</strong> apply to the right hand side.</li>
</ol>
<p>For example, given the following data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;first1&quot;</span><span class="p">,</span> <span class="s2">&quot;second1&quot;</span><span class="p">]},</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;first2&quot;</span><span class="p">,</span> <span class="s2">&quot;second2&quot;</span><span class="p">]}]}</span>
</pre></div>
</div>
<p>The expression <code class="docutils literal notranslate"><span class="pre">foo[*].bar</span></code> gives the result of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">&quot;first1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;second1&quot;</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s2">&quot;first2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;second2&quot;</span>
    <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The first part of the expression, <code class="docutils literal notranslate"><span class="pre">foo[*]</span></code>, creates a projection.  At this
point, the remaining expression, <code class="docutils literal notranslate"><span class="pre">bar</span></code> is projected onto each element of the
list created from <code class="docutils literal notranslate"><span class="pre">foo[*]</span></code>.  If you project the <code class="docutils literal notranslate"><span class="pre">[0]</span></code> expression, you will
get the first element from each sub list.  The expression <code class="docutils literal notranslate"><span class="pre">foo[*].bar[0]</span></code>
will return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;first1&quot;</span><span class="p">,</span> <span class="s2">&quot;first2&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you instead wanted <em>only</em> the first sub list, <code class="docutils literal notranslate"><span class="pre">[&quot;first1&quot;,</span> <span class="pre">&quot;second1&quot;]</span></code>, you
can use a <code class="docutils literal notranslate"><span class="pre">pipe-expression</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foo</span><span class="p">[</span><span class="o">*</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="s2">&quot;first1&quot;</span><span class="p">,</span> <span class="s2">&quot;first2&quot;</span><span class="p">]</span>
<span class="n">foo</span><span class="p">[</span><span class="o">*</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span> <span class="o">|</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="s2">&quot;first1&quot;</span><span class="p">,</span> <span class="s2">&quot;second1&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="id16">
<h3>Examples<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">foo</span> <span class="o">|</span> <span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">}})</span> <span class="o">-&gt;</span> <span class="s2">&quot;baz&quot;</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="o">*</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span> <span class="o">|</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">{</span>
    <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;first1&quot;</span><span class="p">,</span> <span class="s2">&quot;second1&quot;</span><span class="p">]},</span>
            <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;first2&quot;</span><span class="p">,</span> <span class="s2">&quot;second2&quot;</span><span class="p">]}]})</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="s2">&quot;first1&quot;</span><span class="p">,</span> <span class="s2">&quot;second1&quot;</span><span class="p">]</span>
<span class="n">search</span><span class="p">(</span><span class="n">foo</span> <span class="o">|</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]})</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="function-expressions">
<span id="functions"></span><h2>Function Expressions<a class="headerlink" href="#function-expressions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span><span class="o">-</span><span class="n">expression</span> <span class="o">=</span> <span class="n">unquoted</span><span class="o">-</span><span class="n">string</span>  <span class="p">(</span>
                        <span class="n">no</span><span class="o">-</span><span class="n">args</span>  <span class="o">/</span>
                        <span class="n">one</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">more</span><span class="o">-</span><span class="n">args</span> <span class="p">)</span>
<span class="n">no</span><span class="o">-</span><span class="n">args</span>             <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="s2">&quot;)&quot;</span>
<span class="n">one</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">more</span><span class="o">-</span><span class="n">args</span>    <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="p">(</span> <span class="n">function</span><span class="o">-</span><span class="n">arg</span> <span class="o">*</span><span class="p">(</span> <span class="s2">&quot;,&quot;</span> <span class="n">function</span><span class="o">-</span><span class="n">arg</span> <span class="p">)</span> <span class="p">)</span> <span class="s2">&quot;)&quot;</span>
<span class="n">function</span><span class="o">-</span><span class="n">arg</span>        <span class="o">=</span> <span class="n">expression</span> <span class="o">/</span> <span class="n">current</span><span class="o">-</span><span class="n">node</span> <span class="o">/</span> <span class="n">expression</span><span class="o">-</span><span class="nb">type</span>
<span class="n">current</span><span class="o">-</span><span class="n">node</span>        <span class="o">=</span> <span class="s2">&quot;@&quot;</span>
<span class="n">expression</span><span class="o">-</span><span class="nb">type</span>     <span class="o">=</span> <span class="s2">&quot;&amp;&quot;</span> <span class="n">expression</span>
</pre></div>
</div>
<p>Functions allow users to easily transform and filter data in JMESPath
expressions.</p>
<div class="section" id="data-types">
<h3>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h3>
<p>In order to support functions, a type system is needed.  The JSON types are
used:</p>
<ul class="simple">
<li>number (integers and double-precision floating-point format in JSON)</li>
<li>string</li>
<li>boolean (<code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>)</li>
<li>array (an ordered, sequence of values)</li>
<li>object (an unordered collection of key value pairs)</li>
<li>null</li>
</ul>
<p>There is also an additional type that is not a JSON type that’s used in
JMESPath functions:</p>
<ul class="simple">
<li>expression (denoted by <code class="docutils literal notranslate"><span class="pre">&amp;expression</span></code>)</li>
</ul>
</div>
<div class="section" id="current-node">
<h3>current-node<a class="headerlink" href="#current-node" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">current-node</span></code> token can be used to represent the current node being
evaluated. The <code class="docutils literal notranslate"><span class="pre">current-node</span></code> token is useful for functions that require the
current node being evaluated as an argument. For example, the following
expression creates an array containing the total number of elements in the
<code class="docutils literal notranslate"><span class="pre">foo</span></code> object followed by the value of <code class="docutils literal notranslate"><span class="pre">foo[&quot;bar&quot;]</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foo</span><span class="p">[]</span><span class="o">.</span><span class="p">[</span><span class="n">length</span><span class="p">(</span><span class="o">@</span><span class="p">),</span> <span class="n">bar</span><span class="p">]</span>
</pre></div>
</div>
<p>JMESPath assumes that all function arguments operate on the current node unless
the argument is a <code class="docutils literal notranslate"><span class="pre">literal</span></code> or <code class="docutils literal notranslate"><span class="pre">number</span></code> token.  Because of this, an
expression such as <code class="docutils literal notranslate"><span class="pre">&#64;.bar</span></code> would be equivalent to just <code class="docutils literal notranslate"><span class="pre">bar</span></code>, so the
current node is only allowed as a bare expression.</p>
<div class="section" id="current-node-state">
<h4>current-node state<a class="headerlink" href="#current-node-state" title="Permalink to this headline">¶</a></h4>
<p>At the start of an expression, the value of the current node is the data
being evaluated by the JMESPath expression. As an expression is evaluated, the
value the the current node represents MUST change to reflect the node currently
being evaluated. When in a projection, the current node value must be changed
to the node currently being evaluated by the projection.</p>
</div>
</div>
<div class="section" id="function-evaluation">
<span id="id17"></span><h3>Function Evaluation<a class="headerlink" href="#function-evaluation" title="Permalink to this headline">¶</a></h3>
<p>Functions are evaluated in applicative order.  Each argument must be an
expression, each argument expression must be evaluated before evaluating the
function.  The function is then called with the evaluated function arguments.
The result of the <code class="docutils literal notranslate"><span class="pre">function-expression</span></code> is the result returned by the
function call.  If a <code class="docutils literal notranslate"><span class="pre">function-expression</span></code> is evaluated for a function that
does not exist, the JMESPath implementation must indicate to the caller that an
<code class="docutils literal notranslate"><span class="pre">unknown-function</span></code> error occurred.  How and when this error is raised is
implementation specific, but implementations should indicate to the caller that
this specific error occurred.</p>
<p>Functions can either have a specific arity or be variadic with a minimum
number of arguments.  If a <code class="docutils literal notranslate"><span class="pre">function-expression</span></code> is encountered where the
arity does not match or the minimum number of arguments for a variadic function
is not provided, then implementations must indicate to the caller than an
<code class="docutils literal notranslate"><span class="pre">invalid-arity</span></code> error occurred.  How and when this error is raised is
implementation specific.</p>
<p>Each function signature declares the types of its input parameters.  If any
type constraints are not met, implementations must indicate that an
<code class="docutils literal notranslate"><span class="pre">invalid-type</span></code> error occurred.</p>
<p>In order to accommodate type contraints, functions are provided to convert
types to other types (<code class="docutils literal notranslate"><span class="pre">to_string</span></code>, <code class="docutils literal notranslate"><span class="pre">to_number</span></code>) which are defined below.
No explicit type conversion happens unless a user specifically uses one of
these type conversion functions.</p>
<p>Function expressions are also allowed as the child element of a sub expression.
This allows functions to be used with projections, which can enable functions
to be applied to every element in a projection.  For example, given the input
data of <code class="docutils literal notranslate"><span class="pre">[&quot;1&quot;,</span> <span class="pre">&quot;2&quot;,</span> <span class="pre">&quot;3&quot;,</span> <span class="pre">&quot;notanumber&quot;,</span> <span class="pre">true]</span></code>, the following expression can
be used to convert (and filter) all elements to numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>search([].to_number(@), `[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;notanumber&quot;, true]`) -&gt; [1, 2, 3]
</pre></div>
</div>
<p>This provides a simple mechanism to explicitly convert types when needed.</p>
</div>
</div>
<div class="section" id="built-in-functions">
<span id="builtin-functions"></span><h2>Built-in Functions<a class="headerlink" href="#built-in-functions" title="Permalink to this headline">¶</a></h2>
<p>JMESPath has various built-in functions that operate on different
data types, documented below.  Each function below has a signature
that defines the expected types of the input and the type of the returned
output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>return_type function_name(type $argname)
return_type function_name2(type1|type2 $argname)
</pre></div>
</div>
<p>The list of data types supported by a function are:</p>
<ul class="simple">
<li>number (integers and double-precision floating-point format in JSON)</li>
<li>string</li>
<li>boolean (<code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>)</li>
<li>array (an ordered, sequence of values)</li>
<li>object (an unordered collection of key value pairs)</li>
<li>null</li>
<li>expression (denoted by <code class="docutils literal notranslate"><span class="pre">&amp;expression</span></code>)</li>
</ul>
<p>With the exception of the last item, all of the above types correspond
to the types provided by JSON.</p>
<p>If a function can accept multiple types for an input value, then the
multiple types are separated with <code class="docutils literal notranslate"><span class="pre">|</span></code>.  If the resolved arguments do not
match the types specified in the signature, an <code class="docutils literal notranslate"><span class="pre">invalid-type</span></code> error occurs.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">array</span></code> type can further specify requirements on the type of the elements
if they want to enforce homogeneous types.  The subtype is surrounded by
<code class="docutils literal notranslate"><span class="pre">[type]</span></code>, for example, the function signature below requires its input
argument resolves to an array of numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>return_type foo(array[number] $argname)
</pre></div>
</div>
<p>As a shorthand, the type <code class="docutils literal notranslate"><span class="pre">any</span></code> is used to indicate that the argument can be
of any type (<code class="docutils literal notranslate"><span class="pre">array|object|number|string|boolean|null</span></code>).</p>
<p>JMESPath functions are required to type check their input arguments.
Specifying an invalid type for a function argument will result in a JMESPath
error.</p>
<p>The expression type, denoted by <code class="docutils literal notranslate"><span class="pre">&amp;expression</span></code>, is used to specify a
expression that is not immediately evaluated.  Instead, a reference to that
expression is provided to the function being called.  The function can then
choose to apply the expression reference as needed.  It is semantically similar
to an anonymous function. See the <a class="reference internal" href="#func-sort-by"><span class="std std-ref">sort_by</span></a> function for an example
usage of the expression type.</p>
<p>Similarly how arrays can specify a type within a list using the
<code class="docutils literal notranslate"><span class="pre">array[type]</span></code> syntax, expressions can specify their resolved type using
<code class="docutils literal notranslate"><span class="pre">expression-&gt;type</span></code> syntax.  This means that the resolved type of the function
argument must be an expression that itself will resolve to <code class="docutils literal notranslate"><span class="pre">type</span></code>.</p>
<p>The first function below, <code class="docutils literal notranslate"><span class="pre">abs</span></code> is discussed in detail to demonstrate the
above points.  Subsequent function definitions will not include these details
for brevity, but the same rules apply.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All string related functions are defined on the basis of Unicode code
points; they do not take normalization into account.</p>
</div>
<div class="section" id="abs">
<span id="func-abs"></span><h3>abs<a class="headerlink" href="#abs" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number abs(number $value)
</pre></div>
</div>
<p>Returns the absolute value of the provided argument.  The signature indicates
that a number is returned, and that the input argument <code class="docutils literal notranslate"><span class="pre">$value</span></code> <strong>must</strong>
resolve to a number, otherwise a <code class="docutils literal notranslate"><span class="pre">invalid-type</span></code> error is triggered.</p>
<p>Below is a worked example.  Given:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Evaluating <code class="docutils literal notranslate"><span class="pre">abs(foo)</span></code> works as follows:</p>
<ol class="arabic">
<li><p class="first">Evaluate the input argument against the current data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p class="first">Validate the type of the resolved argument.  In this case
<code class="docutils literal notranslate"><span class="pre">-1</span></code> is of type <code class="docutils literal notranslate"><span class="pre">number</span></code> so it passes the type check.</p>
</li>
<li><p class="first">Call the function with the resolved argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p class="first">The value of <code class="docutils literal notranslate"><span class="pre">1</span></code> is the resolved value of the function expression
<code class="docutils literal notranslate"><span class="pre">abs(foo)</span></code>.</p>
</li>
</ol>
<p>Below is the same steps for evaluating <code class="docutils literal notranslate"><span class="pre">abs(bar)</span></code>:</p>
<ol class="arabic">
<li><p class="first">Evaluate the input argument against the current data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;2&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Validate the type of the resolved argument.  In this case
<code class="docutils literal notranslate"><span class="pre">&quot;2&quot;</span></code> is of type <code class="docutils literal notranslate"><span class="pre">string</span></code> so we immediately indicate that
an <code class="docutils literal notranslate"><span class="pre">invalid-type</span></code> error occurred.</p>
</li>
</ol>
<p>As a final example, here is the steps for evaluating <code class="docutils literal notranslate"><span class="pre">abs(to_number(bar))</span></code>:</p>
<ol class="arabic">
<li><p class="first">Evaluate the input argument against the current data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">to_number</span><span class="p">(</span><span class="n">bar</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">})</span>
</pre></div>
</div>
</li>
<li><p class="first">In order to evaluate the above expression, we need to evaluate
<code class="docutils literal notranslate"><span class="pre">to_number(bar)</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="s2">&quot;2&quot;</span>
<span class="c1"># Validate &quot;2&quot; passes the type check for to_number, which it does.</span>
<span class="n">to_number</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Note that <a class="reference internal" href="#to-number">to_number</a> is defined below.</p>
</li>
<li><p class="first">Now we can evaluate the original expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">search</span><span class="p">(</span><span class="n">to_number</span><span class="p">(</span><span class="n">bar</span><span class="p">),</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="mi">2</span>
</pre></div>
</div>
</li>
<li><p class="first">Call the function with the final resolved value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">abs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span>
</pre></div>
</div>
</li>
<li><p class="first">The value of <code class="docutils literal notranslate"><span class="pre">2</span></code> is the resolved value of the function expression
<code class="docutils literal notranslate"><span class="pre">abs(to_number(bar))</span></code>.</p>
</li>
</ol>
<table border="1" class="table docutils" id="id20">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id20" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">abs(1)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">abs(-1)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">abs(`abc`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="avg">
<span id="func-avg"></span><h3>avg<a class="headerlink" href="#avg" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number avg(array[number] $elements)
</pre></div>
</div>
<p>Returns the average of the elements in the provided array.</p>
<p>An empty array will produce a return value of null.</p>
<table border="1" class="table docutils" id="id21">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id21" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">15,</span> <span class="pre">20]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">avg(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">15</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">false,</span> <span class="pre">20]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">avg(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[false]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">avg(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">avg(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ceil">
<span id="func-ceil"></span><h3>ceil<a class="headerlink" href="#ceil" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number ceil(number $value)
</pre></div>
</div>
<p>Returns the next highest integer value by rounding up if necessary.</p>
<table border="1" class="table docutils" id="id22">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id22" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ceil(`1.001`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ceil(`1.9`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ceil(`1`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ceil(`abc`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">null</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="contains">
<span id="func-contains"></span><h3>contains<a class="headerlink" href="#contains" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>boolean contains(array|string $subject, any $search)
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given <code class="docutils literal notranslate"><span class="pre">$subject</span></code> contains the provided <code class="docutils literal notranslate"><span class="pre">$search</span></code>
string.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">$subject</span></code> is an array, this function returns true if one of the elements
in the array is equal to the provided <code class="docutils literal notranslate"><span class="pre">$search</span></code> value.</p>
<p>If the provided <code class="docutils literal notranslate"><span class="pre">$subject</span></code> is a string, this function returns true if
the string contains the provided <code class="docutils literal notranslate"><span class="pre">$search</span></code> argument.</p>
<table border="1" class="table docutils" id="id23">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id23" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>n/a</td>
<td><code class="docutils literal notranslate"><span class="pre">contains(`foobar`,</span> <span class="pre">`foo`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td>n/a</td>
<td><code class="docutils literal notranslate"><span class="pre">contains(`foobar`,</span> <span class="pre">`not`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-even"><td>n/a</td>
<td><code class="docutils literal notranslate"><span class="pre">contains(`foobar`,</span> <span class="pre">`bar`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td>n/a</td>
<td><code class="docutils literal notranslate"><span class="pre">contains(`false`,</span> <span class="pre">`bar`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-even"><td>n/a</td>
<td><code class="docutils literal notranslate"><span class="pre">contains(`foobar`,</span> <span class="pre">123)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">contains(&#64;,</span> <span class="pre">`a`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">contains(&#64;,</span> <span class="pre">`a`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">contains(&#64;,</span> <span class="pre">`b`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[&quot;foo&quot;,</span> <span class="pre">&quot;bar&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">contains(&#64;,</span> <span class="pre">`foo`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[&quot;foo&quot;,</span> <span class="pre">&quot;bar&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">contains(&#64;,</span> <span class="pre">`b`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ends-with">
<span id="func-ends-with"></span><h3>ends_with<a class="headerlink" href="#ends-with" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>boolean ends_with(string $subject, string $prefix)
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the <code class="docutils literal notranslate"><span class="pre">$subject</span></code> ends with the <code class="docutils literal notranslate"><span class="pre">$prefix</span></code>, otherwise this
function returns <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<table border="1" class="docutils" id="id24">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id24" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">foobarbaz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">ends_with(&#64;,</span> <span class="pre">`baz`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">foobarbaz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">ends_with(&#64;,</span> <span class="pre">`foo`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">foobarbaz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">ends_with(&#64;,</span> <span class="pre">`z`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="floor">
<span id="func-floor"></span><h3>floor<a class="headerlink" href="#floor" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number floor(number $value)
</pre></div>
</div>
<p>Returns the next lowest integer value by rounding down if necessary.</p>
<table border="1" class="table docutils" id="id25">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id25" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">floor(`1.001`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">floor(`1.9`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">floor(`1`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="from-items">
<span id="func-from-items"></span><h3>from_items<a class="headerlink" href="#from-items" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>object from_items(array[array[any]] $arg)
</pre></div>
</div>
<p>Returns an object from the provided array of key value pairs. This function
is the inverse of <a class="reference internal" href="#func-items"><span class="std std-ref">items</span></a>.</p>
<table border="1" class="table docutils" id="id26">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id26" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[[&quot;one&quot;,</span> <span class="pre">1],</span> <span class="pre">[&quot;two&quot;,</span> <span class="pre">2]]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">from_items(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;one&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;two&quot;:</span> <span class="pre">2}</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="items">
<span id="func-items"></span><h3>items<a class="headerlink" href="#items" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>array[array[any]] items(object $obj)
</pre></div>
</div>
<p>Returns a an array of key value pairs for the provided object <code class="docutils literal notranslate"><span class="pre">$obj</span></code>. Each
pair is a 2-item array with the first item being the key and the second item
being the value. This function is the inverse of <a class="reference internal" href="#func-from-items"><span class="std std-ref">from_items</span></a>.
Note that because JSON hashes are inheritently unordered, the key value pairs
of the provided object <code class="docutils literal notranslate"><span class="pre">$obj</span></code> are inheritently unordered.  Implementations
are not required to return values in any specific order.  For example, given
the input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="s2">&quot;second&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="s2">&quot;third&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>The expression <code class="docutils literal notranslate"><span class="pre">items(&#64;)</span></code> could have any of these return values:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">[[&quot;a&quot;,</span> <span class="pre">&quot;first&quot;],</span> <span class="pre">[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;],</span> <span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;third&quot;]]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[[&quot;a&quot;,</span> <span class="pre">&quot;first&quot;],</span> <span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;third&quot;],</span> <span class="pre">[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;]]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;],</span> <span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;first&quot;],</span> <span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;third&quot;]]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;],</span> <span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;third&quot;],</span> <span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;first&quot;]]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[[&quot;c&quot;,</span> <span class="pre">&quot;third&quot;],</span> <span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;first&quot;],</span> <span class="pre">[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;]]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[[&quot;c&quot;,</span> <span class="pre">&quot;third&quot;],</span> <span class="pre">[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;],</span> <span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;first&quot;]]</span></code></li>
</ul>
<p>If you would like a specific order, consider using the <code class="docutils literal notranslate"><span class="pre">sort_by</span></code> function.</p>
<table border="1" class="table docutils" id="id27">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id27" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:</span> <span class="pre">&quot;first&quot;,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">&quot;second&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">items(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;],</span> <span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;first&quot;]]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{&quot;z&quot;:</span> <span class="pre">&quot;last&quot;,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">&quot;second&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sort_by(items(&#64;),</span> <span class="pre">&amp;[0])</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;],</span> <span class="pre">[&quot;z&quot;,</span> <span class="pre">&quot;last&quot;]]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;z&quot;:</span> <span class="pre">&quot;last&quot;,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">&quot;second&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sort_by(items(&#64;),</span> <span class="pre">&amp;[1])</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[[&quot;z&quot;,</span> <span class="pre">&quot;last&quot;],</span> <span class="pre">[&quot;b&quot;,</span> <span class="pre">&quot;second&quot;]]</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="join">
<span id="func-join"></span><h3>join<a class="headerlink" href="#join" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>string join(string $glue, array[string] $stringsarray)
</pre></div>
</div>
<p>Returns all of the elements from the provided <code class="docutils literal notranslate"><span class="pre">$stringsarray</span></code> array joined
together using the <code class="docutils literal notranslate"><span class="pre">$glue</span></code> argument as a separator between each.</p>
<table border="1" class="table docutils" id="id28">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id28" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">join(`,</span> <span class="pre">`,</span> <span class="pre">&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;a,</span> <span class="pre">b&quot;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">join(``,</span> <span class="pre">&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;ab&quot;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">false,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">join(`,</span> <span class="pre">`,</span> <span class="pre">&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[false]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">join(`,</span> <span class="pre">`,</span> <span class="pre">&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="keys">
<span id="func-keys"></span><h3>keys<a class="headerlink" href="#keys" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>array keys(object $obj)
</pre></div>
</div>
<p>Returns an array containing the keys of the provided object.
Note that because JSON hashes are inheritently unordered, the
keys associated with the provided object <code class="docutils literal notranslate"><span class="pre">obj</span></code> are inheritently
unordered.  Implementations are not required to return keys in
any specific order.</p>
<table border="1" class="table docutils" id="id29">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id29" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;baz&quot;,</span> <span class="pre">&quot;bar&quot;:</span> <span class="pre">&quot;bam&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">keys(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[&quot;foo&quot;,</span> <span class="pre">&quot;bar&quot;]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">keys(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">keys(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[b,</span> <span class="pre">a,</span> <span class="pre">c]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">keys(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="length">
<span id="func-length"></span><h3>length<a class="headerlink" href="#length" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number length(string|array|object $subject)
</pre></div>
</div>
<p>Returns the length of the given argument using the following types rules:</p>
<ol class="arabic simple">
<li>string: returns the number of code points in the string</li>
<li>array: returns the number of elements in the array</li>
<li>object: returns the number of key-value pairs in the object</li>
</ol>
<table border="1" class="table docutils" id="id30">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id30" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>n/a</td>
<td><code class="docutils literal notranslate"><span class="pre">length(`abc`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
</tr>
<tr class="row-odd"><td>“current”</td>
<td><code class="docutils literal notranslate"><span class="pre">length(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">7</span></code></td>
</tr>
<tr class="row-even"><td>“current”</td>
<td><code class="docutils literal notranslate"><span class="pre">length(not_there)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;c&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">length(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">length(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">length(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;bar&quot;,</span> <span class="pre">&quot;baz&quot;:</span> <span class="pre">&quot;bam&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">length(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="map">
<span id="func-map"></span><h3>map<a class="headerlink" href="#map" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">[</span><span class="nb">any</span><span class="p">]</span> <span class="nb">map</span><span class="p">(</span><span class="n">expression</span><span class="o">-&gt;</span><span class="nb">any</span><span class="o">-&gt;</span><span class="nb">any</span> <span class="n">expr</span><span class="p">,</span> <span class="n">array</span><span class="p">[</span><span class="nb">any</span><span class="p">]</span> <span class="n">elements</span><span class="p">)</span>
</pre></div>
</div>
<p>Apply the <code class="docutils literal notranslate"><span class="pre">expr</span></code> to every element in the <code class="docutils literal notranslate"><span class="pre">elements</span></code> array
and return the array of results.  An <code class="docutils literal notranslate"><span class="pre">elements</span></code> of length
N will produce a return array of length N.</p>
<p>Unlike a projection, (<code class="docutils literal notranslate"><span class="pre">[*].bar</span></code>), <code class="docutils literal notranslate"><span class="pre">map()</span></code> will include
the result of applying the <code class="docutils literal notranslate"><span class="pre">expr</span></code> for every element in the
<code class="docutils literal notranslate"><span class="pre">elements</span></code> array, even if the result if <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<table border="1" class="table docutils" id="id31">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id31" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;array&quot;:</span> <span class="pre">[{&quot;foo&quot;:</span> <span class="pre">&quot;a&quot;},</span> <span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;b&quot;},</span> <span class="pre">{},</span> <span class="pre">[],</span> <span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;f&quot;}]}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">map(&amp;foo,</span> <span class="pre">array)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">null,</span> <span class="pre">null,</span> <span class="pre">&quot;f&quot;]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">[4]],</span> <span class="pre">[5,</span> <span class="pre">6,</span> <span class="pre">7,</span> <span class="pre">[8,</span> <span class="pre">9]]]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">map(&amp;[],</span> <span class="pre">&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4],</span> <span class="pre">[5,</span> <span class="pre">6,</span> <span class="pre">7,</span> <span class="pre">8,</span> <span class="pre">9]]</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="max-by">
<span id="func-max-by"></span><h3>max_by<a class="headerlink" href="#max-by" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">max_by</span><span class="p">(</span><span class="n">array</span> <span class="n">elements</span><span class="p">,</span> <span class="n">expression</span><span class="o">-&gt;</span><span class="n">number</span><span class="o">|</span><span class="n">expression</span><span class="o">-&gt;</span><span class="n">string</span> <span class="n">expr</span><span class="p">)</span>
</pre></div>
</div>
<p>Return the maximum element in an array using the expression <code class="docutils literal notranslate"><span class="pre">expr</span></code> as the
comparison key.  The entire maximum element is returned.
Below are several examples using the <code class="docutils literal notranslate"><span class="pre">people</span></code> array (defined above) as the
given input.</p>
<table border="1" class="table docutils" id="id32">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id32" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">max_by(people,</span> <span class="pre">&amp;age)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;age&quot;:</span> <span class="pre">50,</span> <span class="pre">&quot;age_str&quot;:</span> <span class="pre">&quot;50&quot;,</span> <span class="pre">&quot;bool&quot;:</span> <span class="pre">false,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;d&quot;}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">max_by(people,</span> <span class="pre">&amp;age).age</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">50</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">max_by(people,</span> <span class="pre">&amp;to_number(age_str))</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;age&quot;:</span> <span class="pre">50,</span> <span class="pre">&quot;age_str&quot;:</span> <span class="pre">&quot;50&quot;,</span> <span class="pre">&quot;bool&quot;:</span> <span class="pre">false,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;d&quot;}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">max_by(people,</span> <span class="pre">&amp;age_str)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">max_by(people,</span> <span class="pre">age)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="max">
<span id="func-max"></span><h3>max<a class="headerlink" href="#max" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number max(array[number]|array[string] $collection)
</pre></div>
</div>
<p>Returns the highest found number in the provided array argument.</p>
<p>An empty array will produce a return value of null.</p>
<table border="1" class="table docutils" id="id33">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id33" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">15]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">max(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">15</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">max(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;b&quot;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">2,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">max(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">false,</span> <span class="pre">20]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">max(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="merge">
<span id="func-merge"></span><h3>merge<a class="headerlink" href="#merge" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>object merge([object *argument, [, object $...]])
</pre></div>
</div>
<p>Accepts 0 or more objects as arguments, and returns a single object
with subsequent objects merged.  Each subsequent object’s key/value
pairs are added to the preceding object.  This function is used
to combine multiple objects into one.  You can think of this as
the first object being the base object, and each subsequent argument
being overrides that are applied to the base object.</p>
<table border="1" class="table docutils" id="id34">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id34" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">merge(`{&quot;a&quot;:</span> <span class="pre">&quot;b&quot;}`,</span> <span class="pre">`{&quot;c&quot;:</span> <span class="pre">&quot;d&quot;}`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;c&quot;:</span> <span class="pre">&quot;d&quot;}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">merge(`{&quot;a&quot;:</span> <span class="pre">&quot;b&quot;}`,</span> <span class="pre">`{&quot;a&quot;:</span> <span class="pre">&quot;override&quot;}`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:</span> <span class="pre">&quot;override&quot;}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">merge(`{&quot;a&quot;:</span> <span class="pre">&quot;x&quot;,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">&quot;y&quot;}`,</span> <span class="pre">`{&quot;b&quot;:</span> <span class="pre">&quot;override&quot;,</span> <span class="pre">&quot;c&quot;:</span> <span class="pre">&quot;z&quot;}`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:</span> <span class="pre">&quot;x&quot;,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">&quot;override&quot;,</span> <span class="pre">&quot;c&quot;:</span> <span class="pre">&quot;z&quot;}</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="min-by">
<span id="func-min-by"></span><h3>min_by<a class="headerlink" href="#min-by" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">min_by</span><span class="p">(</span><span class="n">array</span> <span class="n">elements</span><span class="p">,</span> <span class="n">expression</span><span class="o">-&gt;</span><span class="n">number</span><span class="o">|</span><span class="n">expression</span><span class="o">-&gt;</span><span class="n">string</span> <span class="n">expr</span><span class="p">)</span>
</pre></div>
</div>
<p>Return the minimum element in an array using the expression <code class="docutils literal notranslate"><span class="pre">expr</span></code> as the
comparison key.  The entire maximum element is returned.
Below are several examples using the <code class="docutils literal notranslate"><span class="pre">people</span></code> array (defined above) as the
given input.</p>
<table border="1" class="table docutils" id="id35">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id35" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">min_by(people,</span> <span class="pre">&amp;age)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;age&quot;:</span> <span class="pre">10,</span> <span class="pre">&quot;age_str&quot;:</span> <span class="pre">&quot;10&quot;,</span> <span class="pre">&quot;bool&quot;:</span> <span class="pre">true,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">3}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">min_by(people,</span> <span class="pre">&amp;age).age</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">10</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">min_by(people,</span> <span class="pre">&amp;to_number(age_str))</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;age&quot;:</span> <span class="pre">10,</span> <span class="pre">&quot;age_str&quot;:</span> <span class="pre">&quot;10&quot;,</span> <span class="pre">&quot;bool&quot;:</span> <span class="pre">true,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">3}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">min_by(people,</span> <span class="pre">&amp;age_str)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">min_by(people,</span> <span class="pre">age)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="min">
<span id="func-min"></span><h3>min<a class="headerlink" href="#min" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number min(array[number]|array[string] $collection)
</pre></div>
</div>
<p>Returns the lowest found number in the provided <code class="docutils literal notranslate"><span class="pre">$collection</span></code> argument.</p>
<table border="1" class="table docutils" id="id36">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id36" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">15]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">min(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">10</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">min(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">2,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">min(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">false,</span> <span class="pre">20]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">min(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="not-null">
<span id="id18"></span><h3>not_null<a class="headerlink" href="#not-null" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>any not_null([any $argument [, any $...]])
</pre></div>
</div>
<p>Returns the first argument that does not resolve to <code class="docutils literal notranslate"><span class="pre">null</span></code>.  This function
accepts one or more arguments, and will evaluate them in order until a
non null argument is encounted.  If all arguments values resolve to <code class="docutils literal notranslate"><span class="pre">null</span></code>,
then a value of <code class="docutils literal notranslate"><span class="pre">null</span></code> is returned.</p>
<table border="1" class="table docutils" id="id37">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id37" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;c&quot;:</span> <span class="pre">[],</span> <span class="pre">&quot;d&quot;:</span> <span class="pre">&quot;foo&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">not_null(no_exist,</span> <span class="pre">a,</span> <span class="pre">b,</span> <span class="pre">c,</span> <span class="pre">d)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;c&quot;:</span> <span class="pre">[],</span> <span class="pre">&quot;d&quot;:</span> <span class="pre">&quot;foo&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">not_null(a,</span> <span class="pre">b,</span> <span class="pre">`null`,</span> <span class="pre">d,</span> <span class="pre">c)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;foo&quot;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">null,</span> <span class="pre">&quot;c&quot;:</span> <span class="pre">[],</span> <span class="pre">&quot;d&quot;:</span> <span class="pre">&quot;foo&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">not_null(a,</span> <span class="pre">b)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">null</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reverse">
<span id="func-reverse"></span><h3>reverse<a class="headerlink" href="#reverse" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>array reverse(string|array $argument)
</pre></div>
</div>
<p>Reverses the order of the <code class="docutils literal notranslate"><span class="pre">$argument</span></code>.</p>
<table border="1" class="docutils" id="id38">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id38" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">reverse(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[4,</span> <span class="pre">3,</span> <span class="pre">2,</span> <span class="pre">1,</span> <span class="pre">0]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">reverse(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;c&quot;,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">reverse(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[3,</span> <span class="pre">2,</span> <span class="pre">1,</span> <span class="pre">&quot;c&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;a&quot;]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">&quot;abcd</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">reverse(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">dcba</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sort-by">
<span id="func-sort-by"></span><h3>sort_by<a class="headerlink" href="#sort-by" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sort_by</span><span class="p">(</span><span class="n">array</span> <span class="n">elements</span><span class="p">,</span> <span class="n">expression</span><span class="o">-&gt;</span><span class="n">number</span><span class="o">|</span><span class="n">expression</span><span class="o">-&gt;</span><span class="n">string</span> <span class="n">expr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sort an array using an expression <code class="docutils literal notranslate"><span class="pre">expr</span></code> as the sort key.  For each element
in the array of <code class="docutils literal notranslate"><span class="pre">elements</span></code>, the <code class="docutils literal notranslate"><span class="pre">expr</span></code> expression is applied and the
resulting value is used as the key used when sorting the <code class="docutils literal notranslate"><span class="pre">elements</span></code>.</p>
<p>If the result of evaluating the <code class="docutils literal notranslate"><span class="pre">expr</span></code> against the current array element
results in type other than a <code class="docutils literal notranslate"><span class="pre">number</span></code> or a <code class="docutils literal notranslate"><span class="pre">string</span></code>, a type error will
occur.</p>
<p>Below are several examples using the <code class="docutils literal notranslate"><span class="pre">people</span></code> array (defined above) as the
given input.  <code class="docutils literal notranslate"><span class="pre">sort_by</span></code> follows the same sorting logic as the <code class="docutils literal notranslate"><span class="pre">sort</span></code>
function.</p>
<table border="1" class="table docutils" id="id39">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id39" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">sort_by(people,</span> <span class="pre">&amp;age)[].age</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">20,</span> <span class="pre">30,</span> <span class="pre">40,</span> <span class="pre">50]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">sort_by(people,</span> <span class="pre">&amp;age)[0]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;age&quot;:</span> <span class="pre">10,</span> <span class="pre">&quot;age_str&quot;:</span> <span class="pre">&quot;10&quot;,</span> <span class="pre">&quot;bool&quot;:</span> <span class="pre">true,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">3}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">sort_by(people,</span> <span class="pre">&amp;to_number(age_str))[0]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{&quot;age&quot;:</span> <span class="pre">10,</span> <span class="pre">&quot;age_str&quot;:</span> <span class="pre">&quot;10&quot;,</span> <span class="pre">&quot;bool&quot;:</span> <span class="pre">true,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">3}</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sort">
<span id="func-sort"></span><h3>sort<a class="headerlink" href="#sort" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>array sort(array[number]|array[string] $list)
</pre></div>
</div>
<p>This function accepts an array <code class="docutils literal notranslate"><span class="pre">$list</span></code> argument and returns the sorted
elements of the <code class="docutils literal notranslate"><span class="pre">$list</span></code> as an array.</p>
<p>The array must be a list of strings or numbers.  Sorting strings is based on
code points.  Locale is not taken into account.</p>
<table border="1" class="table docutils" id="id40">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id40" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[b,</span> <span class="pre">a,</span> <span class="pre">c]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sort(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[a,</span> <span class="pre">b,</span> <span class="pre">c]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">a,</span> <span class="pre">c]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sort(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">a,</span> <span class="pre">c]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[false,</span> <span class="pre">[],</span> <span class="pre">null]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sort(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[[],</span> <span class="pre">null,</span> <span class="pre">false]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[[],</span> <span class="pre">{},</span> <span class="pre">false]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sort(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[{},</span> <span class="pre">[],</span> <span class="pre">false]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;a&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;b&quot;:</span> <span class="pre">2}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sort(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">null</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sort(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">null</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="starts-with">
<span id="func-starts-with"></span><h3>starts_with<a class="headerlink" href="#starts-with" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>boolean starts_with(string $subject, string $prefix)
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the <code class="docutils literal notranslate"><span class="pre">$subject</span></code> starts with the <code class="docutils literal notranslate"><span class="pre">$prefix</span></code>, otherwise
this function returns <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<table border="1" class="docutils" id="id41">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id41" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">foobarbaz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">starts_with(&#64;,</span> <span class="pre">`foo`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">foobarbaz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">starts_with(&#64;,</span> <span class="pre">`baz`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">foobarbaz</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">starts_with(&#64;,</span> <span class="pre">`f`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sum">
<span id="func-sum"></span><h3>sum<a class="headerlink" href="#sum" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number sum(array[number] $collection)
</pre></div>
</div>
<p>Returns the sum of the provided array argument.</p>
<p>An empty array will produce a return value of 0.</p>
<table border="1" class="docutils" id="id42">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id42" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">15]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sum(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">25</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">false,</span> <span class="pre">20]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">max(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">false,</span> <span class="pre">20]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sum([].to_number(&#64;))</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">30</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">sum(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="to-array">
<span id="func-to-array"></span><h3>to_array<a class="headerlink" href="#to-array" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>array to_array(any $arg)
</pre></div>
</div>
<ul class="simple">
<li>array - Returns the passed in value.</li>
<li>number/string/object/boolean - Returns a one element array containing
the passed in argument.</li>
</ul>
<table border="1" class="table docutils" id="id43">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id43" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">to_array(`[1,</span> <span class="pre">2]`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">to_array(`&quot;string&quot;`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[&quot;string&quot;]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">to_array(`0`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[0]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">to_array(`true`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[true]</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">to_array(`{&quot;foo&quot;:</span> <span class="pre">&quot;bar&quot;}`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[{&quot;foo&quot;:</span> <span class="pre">&quot;bar&quot;}]</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="to-number">
<span id="func-to-number"></span><h3>to_number<a class="headerlink" href="#to-number" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>number to_number(any $arg)
</pre></div>
</div>
<ul class="simple">
<li>string - Returns the parsed number.  Any string that conforms to the
<code class="docutils literal notranslate"><span class="pre">json-number</span></code> production is supported.  Note that the floating number
support will be implementation specific, but implementations should support
at least IEEE 754-2008 binary64 (double precision) numbers, as this is
generally available and widely used.</li>
<li>number - Returns the passed in value.</li>
<li>array - null</li>
<li>object - null</li>
<li>boolean - null</li>
<li>null - null</li>
</ul>
</div>
<div class="section" id="to-string">
<span id="func-to-string"></span><h3>to_string<a class="headerlink" href="#to-string" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>string to_string(any $arg)
</pre></div>
</div>
<ul class="simple">
<li>string - Returns the passed in value.</li>
<li>number/array/object/boolean - The JSON encoded value of the object.  The
JSON encoder should emit the encoded JSON value without adding any additional
new lines.</li>
</ul>
<table border="1" class="table docutils" id="id44">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id44" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">to_string(`2`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;2&quot;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="type">
<span id="func-type"></span><h3>type<a class="headerlink" href="#type" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>string type(array|object|string|number|boolean|null $subject)
</pre></div>
</div>
<p>Returns the JavaScript type of the given <code class="docutils literal notranslate"><span class="pre">$subject</span></code> argument as a string
value.</p>
<p>The return value MUST be one of the following:</p>
<ul class="simple">
<li>number</li>
<li>string</li>
<li>boolean</li>
<li>array</li>
<li>object</li>
<li>null</li>
</ul>
<table border="1" class="table docutils" id="id45">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id45" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&quot;foo&quot;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">type(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">type(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;boolean&quot;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">type(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;boolean&quot;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">null</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">type(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;null&quot;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">123</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">type(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">number</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">123.05</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">type(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">number</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[&quot;abc&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">type(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;array&quot;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{&quot;abc&quot;:</span> <span class="pre">&quot;123&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">type(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&quot;object&quot;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="values">
<span id="func-values"></span><h3>values<a class="headerlink" href="#values" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>array values(object $obj)
</pre></div>
</div>
<p>Returns the values of the provided object.
Note that because JSON hashes are inheritently unordered, the
values associated with the provided object <code class="docutils literal notranslate"><span class="pre">obj</span></code> are inheritently
unordered.  Implementations are not required to return values in
any specific order.  For example, given the input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="s2">&quot;second&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="s2">&quot;third&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>The expression <code class="docutils literal notranslate"><span class="pre">values(&#64;)</span></code> could have any of these return values:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">[&quot;first&quot;,</span> <span class="pre">&quot;second&quot;,</span> <span class="pre">&quot;third&quot;]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[&quot;first&quot;,</span> <span class="pre">&quot;third&quot;,</span> <span class="pre">&quot;second&quot;]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[&quot;second&quot;,</span> <span class="pre">&quot;first&quot;,</span> <span class="pre">&quot;third&quot;]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[&quot;second&quot;,</span> <span class="pre">&quot;third&quot;,</span> <span class="pre">&quot;first&quot;]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[&quot;third&quot;,</span> <span class="pre">&quot;first&quot;,</span> <span class="pre">&quot;second&quot;]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[&quot;third&quot;,</span> <span class="pre">&quot;second&quot;,</span> <span class="pre">&quot;first&quot;]</span></code></li>
</ul>
<p>If you would like a specific order, consider using the
<code class="docutils literal notranslate"><span class="pre">sort</span></code> or <code class="docutils literal notranslate"><span class="pre">sort_by</span></code> functions.</p>
<table border="1" class="table docutils" id="id46">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id46" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Given</th>
<th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;baz&quot;,</span> <span class="pre">&quot;bar&quot;:</span> <span class="pre">&quot;bam&quot;}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">values(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[&quot;baz&quot;,</span> <span class="pre">&quot;bam&quot;]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">values(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">values(&#64;)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">&lt;error:</span> <span class="pre">invalid-type&gt;</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="zip">
<span id="func-zip"></span><h3>zip<a class="headerlink" href="#zip" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>array[array[any]] zip([array[any] $arg, [, array[any] $...]])
</pre></div>
</div>
<p>Accepts 1 or more arrays as arguments and returns an array of arrays in which
the <em>i-th</em> array contains the <em>i-th</em> element from each of the argument arrays.
The returned array is truncated to the length of the shortest argument array.</p>
<table border="1" class="table docutils" id="id47">
<caption><span class="caption-text">Examples</span><a class="headerlink" href="#id47" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Expression</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">zip(`[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;]`,</span> <span class="pre">`[1,</span> <span class="pre">2]`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[[&quot;a&quot;,</span> <span class="pre">1],</span> <span class="pre">[&quot;b&quot;,</span> <span class="pre">2]]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">zip(`[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;c&quot;]`,</span> <span class="pre">`[1,</span> <span class="pre">2]`)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[[&quot;a&quot;,</span> <span class="pre">1],</span> <span class="pre">[&quot;b&quot;,</span> <span class="pre">2]]</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


                  </div>
  <div class="col-md-3 col-md-pull-9 sphinxsidebar">
    <div class="sphinxsidebarwrapper"><p class="logo"><a href="/">
  <img id="sidebar-logo" src="_static/img/logo-dark.png" alt="JMESPath Logo" />
</a></p>
  <h3><a href="contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">JMESPath Specification</a><ul>
<li><a class="reference internal" href="#grammar-specification-version">Grammar </a></li>
<li><a class="reference internal" href="#identifiers">Identifiers</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#subexpressions">SubExpressions</a><ul>
<li><a class="reference internal" href="#id3">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#index-expressions">Index Expressions</a><ul>
<li><a class="reference internal" href="#slices">Slices</a></li>
<li><a class="reference internal" href="#id5">Examples</a></li>
<li><a class="reference internal" href="#flatten-operator">Flatten Operator</a></li>
<li><a class="reference internal" href="#id6">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#or-expressions">Or Expressions</a><ul>
<li><a class="reference internal" href="#id7">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#and-expressions">And Expressions</a><ul>
<li><a class="reference internal" href="#id8">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#paren-expressions">Paren Expressions</a><ul>
<li><a class="reference internal" href="#id9">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#not-expressions">Not Expressions</a><ul>
<li><a class="reference internal" href="#id10">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#multiselect-list">MultiSelect List</a><ul>
<li><a class="reference internal" href="#id11">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#multiselect-hash">MultiSelect Hash</a><ul>
<li><a class="reference internal" href="#id12">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#wildcard-expressions">Wildcard Expressions</a><ul>
<li><a class="reference internal" href="#id13">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#literal-expressions">Literal Expressions</a><ul>
<li><a class="reference internal" href="#id14">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#raw-string-literals">Raw String Literals</a></li>
<li><a class="reference internal" href="#filter-expressions">Filter Expressions</a><ul>
<li><a class="reference internal" href="#comparison-operators">Comparison Operators</a><ul>
<li><a class="reference internal" href="#equality-operators">Equality Operators</a></li>
<li><a class="reference internal" href="#ordering-operators">Ordering Operators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id15">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pipe-expressions">Pipe Expressions</a><ul>
<li><a class="reference internal" href="#id16">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#function-expressions">Function Expressions</a><ul>
<li><a class="reference internal" href="#data-types">Data Types</a></li>
<li><a class="reference internal" href="#current-node">current-node</a><ul>
<li><a class="reference internal" href="#current-node-state">current-node state</a></li>
</ul>
</li>
<li><a class="reference internal" href="#function-evaluation">Function Evaluation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#built-in-functions">Built-in Functions</a><ul>
<li><a class="reference internal" href="#abs">abs</a></li>
<li><a class="reference internal" href="#avg">avg</a></li>
<li><a class="reference internal" href="#ceil">ceil</a></li>
<li><a class="reference internal" href="#contains">contains</a></li>
<li><a class="reference internal" href="#ends-with">ends_with</a></li>
<li><a class="reference internal" href="#floor">floor</a></li>
<li><a class="reference internal" href="#from-items">from_items</a></li>
<li><a class="reference internal" href="#items">items</a></li>
<li><a class="reference internal" href="#join">join</a></li>
<li><a class="reference internal" href="#keys">keys</a></li>
<li><a class="reference internal" href="#length">length</a></li>
<li><a class="reference internal" href="#map">map</a></li>
<li><a class="reference internal" href="#max-by">max_by</a></li>
<li><a class="reference internal" href="#max">max</a></li>
<li><a class="reference internal" href="#merge">merge</a></li>
<li><a class="reference internal" href="#min-by">min_by</a></li>
<li><a class="reference internal" href="#min">min</a></li>
<li><a class="reference internal" href="#not-null">not_null</a></li>
<li><a class="reference internal" href="#reverse">reverse</a></li>
<li><a class="reference internal" href="#sort-by">sort_by</a></li>
<li><a class="reference internal" href="#sort">sort</a></li>
<li><a class="reference internal" href="#starts-with">starts_with</a></li>
<li><a class="reference internal" href="#sum">sum</a></li>
<li><a class="reference internal" href="#to-array">to_array</a></li>
<li><a class="reference internal" href="#to-number">to_number</a></li>
<li><a class="reference internal" href="#to-string">to_string</a></li>
<li><a class="reference internal" href="#type">type</a></li>
<li><a class="reference internal" href="#values">values</a></li>
<li><a class="reference internal" href="#zip">zip</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

    </div>
  </div>
              </div>
            </div>

        </div>

<script>
$(document).ready(function() {
    $('.jmespath-demo').each(function(i, el) {
        function evaluateDemo(el) {
            var expression = $(el).find('.jmespath-expression').val();
            var inputData = JSON.parse($(el).find('.jmespath-input').val());
            var result = jmespath.search(inputData, expression);
            $(el).find('.jmespath-result').text(JSON.stringify(result, null, 2));
        }
        $(el).find('.jmespath-expression').bind('keyup', function() {
            evaluateDemo(el);
        });
        $(el).find('.jmespath-input').bind('keyup', function() {
            evaluateDemo(el);
        });
        evaluateDemo(el);
    });
    $('.jmespath-form').submit(function() {
      return false;
    });

    $('.collapse').on('shown.bs.collapse', function() {
        $(this).parent().find(".glyphicon-chevron-right").removeClass(
            "glyphicon-chevron-right").addClass("glyphicon-chevron-down");
    }).on('hidden.bs.collapse', function(){
        $(this).parent().find(".glyphicon-chevron-down").removeClass(
            "glyphicon-chevron-down").addClass("glyphicon-chevron-right");
    });

})
</script>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="libraries.html" title="JMESPath Libraries"
             >next</a> |</li>
        <li class="right" >
          <a href="examples.html" title="JMESPath Examples"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">JMESPath</a> &#187;</li> 
      </ul>
    </div>

  <script type="text/javascript" src="_static/js/bootstrap.js"></script>
  <script type="text/javascript" src="_static/js/jmespath.min.js"></script>
  <script type="text/javascript" src="_static/js/jquery-migrate-1.2.1.min.js"></script>
  <script src="//static.getclicky.com/js" type="text/javascript"></script>
  <script type="text/javascript">try{ clicky.init(100732121); }catch(e){}</script>
  <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100732121ns.gif" /></p></noscript>
  <div class="footer container">
    &copy; Copyright 2014-2015, James Saryerwinnie.
  </div>
  </body>
</html>